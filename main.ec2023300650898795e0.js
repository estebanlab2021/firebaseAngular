(self.webpackChunkcursofirebase=self.webpackChunkcursofirebase||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},7716:(t,e,n)=>{"use strict";n.d(e,{deG:()=>ln,tb:()=>Zc,AFp:()=>Gc,ip1:()=>Uc,CZH:()=>qc,hGG:()=>Ul,z2F:()=>Ol,sBO:()=>ju,Sil:()=>il,_Vd:()=>cu,EJc:()=>Wc,SBq:()=>du,qLn:()=>Ir,vpe:()=>wc,gxx:()=>Io,tBr:()=>On,XFs:()=>O,OlP:()=>cn,zs3:()=>qo,ZZ4:()=>Nu,aQg:()=>Pu,soG:()=>Qc,YKP:()=>Qu,v3s:()=>Nl,h0i:()=>Ku,PXZ:()=>Cl,R0b:()=>al,FiY:()=>Dn,Lbi:()=>$c,g9A:()=>zc,Qsj:()=>mu,FYo:()=>gu,JOm:()=>Dr,Tiy:()=>vu,q3G:()=>wr,tp0:()=>Nn,EAV:()=>Ll,Rgc:()=>Hu,dDg:()=>pl,DyG:()=>hn,q4F:()=>wu,GfV:()=>bu,s_b:()=>Ju,ifc:()=>F,eFA:()=>Il,G48:()=>Sl,Gpc:()=>d,X6Q:()=>El,_c5:()=>Ml,VLi:()=>yl,c2e:()=>Kc,zSh:()=>xo,wAp:()=>oa,vHH:()=>m,EiD:()=>vr,mCW:()=>tr,qzn:()=>Gn,JVY:()=>Hn,pB0:()=>Kn,eBb:()=>$n,L6k:()=>zn,LAX:()=>Zn,cg1:()=>na,Tjo:()=>Vl,kL8:()=>ra,yhl:()=>Bn,dqk:()=>q,sIi:()=>Jo,CqO:()=>ys,QGY:()=>gs,F4k:()=>ms,RDi:()=>It,AaK:()=>l,z3N:()=>qn,qOj:()=>Bo,TTD:()=>bt,_Bn:()=>su,xp6:()=>Ai,uIk:()=>ns,Tol:()=>Ls,DjV:()=>Js,ekj:()=>Ps,Suo:()=>Pc,Xpm:()=>Y,lG2:()=>ot,Yz7:()=>_,cJS:()=>E,oAB:()=>nt,Yjl:()=>st,Y36:()=>ss,_UZ:()=>hs,BQk:()=>ds,ynx:()=>fs,qZA:()=>ls,TgZ:()=>cs,EpF:()=>ps,n5z:()=>rn,Ikx:()=>Ys,SDv:()=>Wa,QtT:()=>Ya,pQV:()=>Ja,LFG:()=>An,$8M:()=>sn,NdJ:()=>vs,CRH:()=>Lc,kcU:()=>_e,O4$:()=>we,oxw:()=>_s,ALo:()=>yc,lcZ:()=>vc,Hsn:()=>Ts,F$t:()=>Ss,Q6J:()=>as,s9C:()=>Cs,MGl:()=>Is,VKq:()=>fc,WLB:()=>dc,kEZ:()=>pc,iGM:()=>Nc,MAs:()=>os,CHM:()=>zt,LSH:()=>_r,kYT:()=>rt,Udp:()=>Rs,YNc:()=>is,W1O:()=>jc,_uU:()=>Zs,Oqu:()=>Ks,hij:()=>Qs,AsE:()=>Ws,Gf:()=>Rc});var r=n(9765),i=n(5319),o=n(7574),s=n(6682),a=n(8819);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${v(t)} found${n}`)}function w(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return T(t,I)||T(t,x)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const I=u({"\u0275prov":u}),A=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),k=u({ngInjectorDef:u});var O=(()=>((O=O||{})[O.Default=0]="Default",O[O.Host=1]="Host",O[O.Self=2]="Self",O[O.SkipSelf=4]="SkipSelf",O[O.Optional=8]="Optional",O))();let D;function N(t){const e=D;return D=t,e}function R(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==e?e:void b(l(t),"Injector")}function P(t){return{toString:t}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const V="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,q=V||U||M||j,G={},B=[],H=u({"\u0275cmp":u}),z=u({"\u0275dir":u}),$=u({"\u0275pipe":u}),Z=u({"\u0275mod":u}),K=u({"\u0275loc":u}),Q=u({"\u0275fac":u}),W=u({__NG_ELEMENT_ID__:u});let J=0;function Y(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||B,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||B,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(X):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function X(t){return at(t)||function(t){return t[z]||null}(t)}function tt(t){return function(t){return t[$]||null}(t)}const et={};function nt(t){return P(()=>{const e={type:t.type,bootstrap:t.bootstrap||B,declarations:t.declarations||B,imports:t.imports||B,exports:t.exports||B,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(et[t.id]=t.type),e})}function rt(t,e){return P(()=>{const n=ut(t,!0);n.declarations=e.declarations||B,n.imports=e.imports||B,n.exports=e.exports||B})}function it(t,e){if(null==t)return G;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ot=Y;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[H]||null}function ut(t,e){const n=t[Z]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),_t}function _t(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===G)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:G,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new vt(u&&u.currentValue,e,s===G),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}bt.ngInherit=!0;const Tt="http://www.w3.org/2000/svg";let Ct;function It(t){Ct=t}function At(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function xt(t){return!!t.listen}const kt={createRenderer:(t,e)=>At()};function Ot(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Ot(e[t])}function Nt(t,e){return Ot(e[t.index])}function Rt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Lt(t,e){const n=e[t];return ht(n)?n:n[0]}function Ft(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function jt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return qt.bindingsEnabled}function Bt(){return qt.lFrame.lView}function Ht(){return qt.lFrame.tView}function zt(t){return qt.lFrame.contextLView=t,t[8]}function $t(){let t=Zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zt(){return qt.lFrame.currentTNode}function Kt(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return qt.lFrame.isParent}function Jt(){qt.lFrame.isParent=!1}function Yt(){return qt.isInCheckNoChangesMode}function Xt(t){qt.isInCheckNoChangesMode=t}function te(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return qt.lFrame.bindingIndex}function ne(){return qt.lFrame.bindingIndex++}function re(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t){qt.lFrame.inI18n=t}function oe(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){qt.lFrame.currentDirectiveIndex=t}function ae(){return qt.lFrame.currentQueryIndex}function ue(t){qt.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function le(t,e,n){if(n&O.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&O.Host||(r=ce(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function he(t){const e=fe(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=pe;function me(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ye(){return qt.lFrame.selectedIndex}function ve(t){qt.lFrame.selectedIndex=t}function be(){const t=qt.lFrame;return Rt(t.tView,t.selectedIndex)}function we(){qt.lFrame.currentNamespace=Tt}function _e(){qt.lFrame.currentNamespace=null}function Ee(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Se(t,e,n){Ie(t,e,3,n)}function Te(t,e,n,r){(3&t[2])===n&&Ie(t,e,n,r)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ie(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ae(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ae(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const xe=-1;class ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Oe(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ne(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function De(t){return 3===t||4===t||6===t}function Ne(t){return 64===t.charCodeAt(0)}function Re(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Le(t){return t!==xe}function Fe(t){return 32767&t}function Ve(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Me=!0;function je(t){const e=Me;return Me=t,e}let Ue=0;function qe(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ge(r.data,t),Ge(e,null),Ge(r.blueprint,null));const i=He(t,e),o=t.injectorIndex;if(Le(i)){const t=Fe(i),n=Ve(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ge(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function He(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function ze(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=Ue++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function $e(t,e,n){if(n&O.Optional)return t;b(e,"NodeInjector")}function Ze(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&O.Optional):R(e,r,n&O.Optional)}finally{N(o)}}return $e(r,e,n)}function Ke(t,e,n,r=O.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e?e>=0?255&e:We:e}(n);if("function"==typeof o){if(!le(e,t,r))return r&O.Host?$e(i,n,r):Ze(e,n,r,i);try{const t=o(r);if(null!=t||r&O.Optional)return t;b(n)}finally{ge()}}else if("number"==typeof o){let i=null,s=Be(t,e),a=xe,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?He(t,e):e[s+8],a!==xe&&en(r,!1)?(i=e[1],s=Fe(a),e=Ve(a,e)):s=-1);-1!==s;){const t=e[1];if(tn(o,s,t.data)){const t=Je(s,e,n,i,r,u);if(t!==Qe)return t}a=e[s+8],a!==xe&&en(r,e[1].data[s+8]===u)&&tn(o,s,e)?(i=t,s=Fe(a),e=Ve(a,e)):s=-1}}}return Ze(e,n,r,i)}const Qe={};function We(){return new nn($t(),Bt())}function Je(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Ye(a,s,n,null==r?pt(a)&&Me:r!=s&&0!=(3&a.type),i&O.Host&&o===a);return null!==u?Xe(e,s,u,a):Qe}function Ye(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&mt(t)&&t.type===n)return u}return null}function Xe(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ke){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(v(o[n]));const a=je(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;le(t,r,O.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),je(a),s.resolving=!1,ge()}}return i}function tn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function en(t,e){return!(t&O.Self||t&O.Host&&e)}class nn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function rn(t){return P(()=>{const e=t.prototype.constructor,n=e[Q]||on(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||on(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function on(t){return g(t)?()=>{const e=on(p(t));return e&&e()}:yt(t)}function sn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(De(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}const an="__parameters__";function un(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(an)?t[an]:Object.defineProperty(t,an,{value:[]})[an];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class cn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ln=new cn("AnalyzeForEntryComponents"),hn=Function;function fn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),fn(r,e)):e!==t&&e.push(r)}return e}function dn(t,e){t.forEach(t=>Array.isArray(t)?dn(t,e):e(t))}function pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function yn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const wn={},_n=/\n/gm,En="__source",Sn=u({provide:String,useValue:u});let Tn;function Cn(t){const e=Tn;return Tn=t,e}function In(t,e=O.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?R(t,void 0,e):Tn.get(t,e&O.Optional?null:void 0,e)}function An(t,e=O.Default){return(D||In)(p(t),e)}function xn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(An(t,n))}else e.push(An(r))}return e}function kn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const On=kn(un("Inject",t=>({token:t})),-1),Dn=kn(un("Optional"),8),Nn=kn(un("SkipSelf"),4);let Rn;function Pn(t){var e;return(null===(e=function(){if(void 0===Rn&&(Rn=null,q.trustedTypes))try{Rn=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Rn}())||void 0===e?void 0:e.createHTML(t))||t}class Ln{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fn extends Ln{getTypeName(){return"HTML"}}class Vn extends Ln{getTypeName(){return"Style"}}class Mn extends Ln{getTypeName(){return"Script"}}class jn extends Ln{getTypeName(){return"URL"}}class Un extends Ln{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Ln?t.changingThisBreaksApplicationSecurity:t}function Gn(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Ln&&t.getTypeName()||null}function Hn(t){return new Fn(t)}function zn(t){return new Vn(t)}function $n(t){return new Mn(t)}function Zn(t){return new jn(t)}function Kn(t){return new Un(t)}function Qn(t){const e=new Jn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Wn(e):e}class Wn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(t){return(t=String(t)).match(Yn)||t.match(Xn)?t:"unsafe:"+t}function er(t){return(t=String(t)).split(",").map(t=>tr(t.trim())).join(", ")}function nr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function rr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ir=nr("area,br,col,hr,img,wbr"),or=nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sr=nr("rp,rt"),ar=rr(sr,or),ur=rr(ir,rr(or,nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rr(sr,nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ar),cr=nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=nr("srcset"),hr=rr(cr,lr,nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fr=nr("script,style,template");class dr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ur.hasOwnProperty(e))return this.sanitizedSomething=!0,!fr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!hr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;cr[i]&&(o=tr(o)),lr[i]&&(o=er(o)),this.buf.push(" ",e,'="',mr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ur.hasOwnProperty(e)&&!ir.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(mr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gr=/([^\#-~ |!])/g;function mr(t){return t.replace(/&/g,"&amp;").replace(pr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yr;function vr(t,e){let n=null;try{yr=yr||Qn(t);let r=e?String(e):"";n=yr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==o);return Pn((new dr).sanitizeChildren(br(n)||n))}finally{if(n){const t=br(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function br(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wr=(()=>((wr=wr||{})[wr.NONE=0]="NONE",wr[wr.HTML=1]="HTML",wr[wr.STYLE=2]="STYLE",wr[wr.SCRIPT=3]="SCRIPT",wr[wr.URL=4]="URL",wr[wr.RESOURCE_URL=5]="RESOURCE_URL",wr))();function _r(t){const e=function(){const t=Bt();return t&&t[12]}();return e?e.sanitize(wr.URL,t)||"":Gn(t,"URL")?qn(t):tr(y(t))}function Er(t,e){t.__ngContext__=e}function Sr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Tr(t){return t.ngOriginalError}function Cr(t,...e){t.error(...e)}class Ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(Tr(t)):null}_findOriginalError(t){let e=Tr(t);for(;e&&Tr(e);)e=Tr(e);return e}}const Ar=/^>|^->|<!--|-->|--!>|<!-$/g,xr=/(<|>)/,kr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Or(t){return t instanceof Function?t():t}var Dr=(()=>((Dr=Dr||{})[Dr.Important=1]="Important",Dr[Dr.DashCase=2]="DashCase",Dr))();let Nr;function Rr(t,e){return Nr(t,e)}function Pr(t){const e=t[3];return ft(e)?e[3]:e}function Lr(t){return Vr(t[13])}function Fr(t){return Vr(t[4])}function Vr(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Mr(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:ht(r)&&(s=!0,r=r[0]);const a=Ot(r);0===t&&null!==n?null==i?Wr(e,n,a):Qr(e,n,a,i||null,!0):1===t&&null!==n?Qr(e,n,a,i||null,!0):2===t?ui(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ot(n)&&Mr(e,t,r,o,i);for(let s=lt;s<n.length;s++){const i=n[s];li(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function jr(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}function Ur(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}function qr(t,e){return t.createComment(function(t){return t.replace(Ar,t=>t.replace(xr,"\u200b$1\u200b"))}(e))}function Gr(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Br(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Hr(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Br(o,r),e>0&&(t[n-1][4]=r[4]);const s=gn(t,lt+e);li(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function zr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&li(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return $r(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&$r(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&$r(e[1],e),n=e&&e[4]}e=n}}(e)}}function $r(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Ot(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Br(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Zr(t,e,n){return Kr(t,e.parent,n)}function Kr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Nt(r,n)}function Qr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Wr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Jr(t,e,n,r,i){null!==r?Qr(t,e,n,r,i):Wr(t,e,n)}function Yr(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Xr(t,e,n){return ni(t,e,n)}function ti(t,e,n){return 40&t.type?Nt(t,n):null}let ei,ni=ti;function ri(t,e){ni=t,ei=e}function ii(t,e,n,r){const i=Zr(t,r,e),o=e[11],s=Xr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Jr(o,i,n[a],s,!1);else Jr(o,i,n,s,!1);void 0!==ei&&ei(o,r,e,n,i)}function oi(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return ai(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return oi(t,n);{const n=t[e.index];return ft(n)?ai(-1,n):Ot(n)}}if(32&n)return Rr(e,t)()||Ot(t[e.index]);{const n=si(t,e);return null!==n?Array.isArray(n)?n[0]:oi(Pr(t[16]),n):oi(t,e.next)}}return null}function si(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ai(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return oi(t,r)}return e[7]}function ui(t,e,n){const r=Yr(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ci(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Er(Ot(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ci(t,e,n.child,r,i,o,!1),Mr(e,t,i,a,o);else if(32&u){const s=Rr(n,r);let u;for(;u=s();)Mr(e,t,i,u,o);Mr(e,t,i,a,o)}else 16&u?hi(t,e,r,n,i,o):Mr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function li(t,e,n,r,i,o){ci(n,r,t.firstChild,e,i,o,!1)}function hi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Mr(e,t,i,a[u],o);else ci(t,e,a,s[3],i,o,!0)}function fi(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function di(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function pi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const gi="ng-template";function mi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==pi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function yi(t){return 4===t.type&&t.value!==gi}function vi(t,e,n){return e===(4!==t.type||n?t.value:gi)}function bi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(De(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!vi(t,u,n)||""===u&&1===e.length){if(wi(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!mi(t.attrs,c,n)){if(wi(r))return!1;s=!0}continue}const l=_i(8&r?"class":u,i,yi(t),n);if(-1===l){if(wi(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==pi(e,c,0)||2&r&&c!==t){if(wi(r))return!1;s=!0}}}}else{if(!s&&!wi(r)&&!wi(u))return!1;if(s&&wi(u))continue;s=!1,r=u|1&r}}return wi(r)||s}function wi(t){return 0==(1&t)}function _i(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ei(t,e,n=!1){for(let r=0;r<e.length;r++)if(bi(t,e[r],n))return!0;return!1}function Si(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ti(t,e){return t?":not("+e.trim()+")":e}function Ci(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||wi(s)||(e+=Ti(o,i),i=""),r=s,o=o||!wi(r);n++}return""!==i&&(e+=Ti(o,i)),e}const Ii={};function Ai(t){xi(Ht(),Bt(),ye()+t,Yt())}function xi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Se(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Te(e,r,0,n)}ve(n)}function ki(t,e){return t<<17|e<<2}function Oi(t){return t>>17&32767}function Di(t){return 2|t}function Ni(t){return(131068&t)>>2}function Ri(t,e){return-131069&t|e<<2}function Pi(t){return 1|t}function Li(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ue(i),n.contentQueries(2,e[o],o)}}}function Fi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,jt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Vi(t,e,n,r,i){let o=t.data[e];if(null===o)o=Mi(t,e,n,r,i),qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=Kt();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function Mi(t,e,n,r,i){const o=Zt(),s=Wt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function ji(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ui(t,e,n){he(e);try{const r=t.viewQuery;null!==r&&vo(1,r,n);const i=t.template;null!==i&&Bi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Li(t,e),t.staticViewQueries&&vo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)fo(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function qi(t,e,n,r){const i=e[2];if(256==(256&i))return;he(e);const o=Yt();try{jt(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Bi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Se(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Te(e,n,0,null),Ce(e,0)}if(function(t){for(let e=Lr(t);null!==e;e=Fr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=Lr(t);null!==e;e=Fr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Vt(n)&&qi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Li(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Se(e,n)}else{const n=t.contentHooks;null!==n&&Te(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,o=n[++t],s=n[++t];oe(o,i),s(2,e[i])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)lo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&vo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Se(e,n)}else{const n=t.viewHooks;null!==n&&Te(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{me()}}function Gi(t,e,n,r){const i=e[10],o=!Yt(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&Ui(t,e,r),qi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Bi(t,e,n,r,i){const o=ye(),s=2&r;try{ve(-1),s&&e.length>ct&&xi(t,e,ct,Yt()),n(r,i)}finally{ve(o)}}function Hi(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function zi(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||qe(n,e),Er(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=mt(r);o&&oo(e,n,r);const u=Xe(e,t,a,n);Er(u,e),null!==s&&ao(0,a-i,u,r,0,s),o&&(Lt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qt.lFrame.currentDirectiveIndex;try{ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||to(r,i)}}finally{ve(-1),se(s)}}(t,e,n))}function $i(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Zi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ki(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ki(t,e,n,r,i,o,s,a,u,c){const l=ct+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ii);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Qi(t,e,n,r){const i=wo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&_o(t).push(r,i.length-1))}function Wi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ji(t,e,n,r,i,o,s,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(So(t,n,c,r,i),pt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,xt(o)?o.setProperty(u,r,i):Ne(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Yi(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Ei(n,s.selectors,!1)&&(i||(i=[]),ze(qe(n,e),t,s.type),mt(s)?(eo(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,ro(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ji(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Re(n.mergedAttrs,c.hostAttrs),io(t,n,e,u,c),no(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||yi(e)?null:uo(n,i);o.push(c),s=Wi(n,u,s),a=Wi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Re(n.mergedAttrs,n.attrs),i}function Xi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function to(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function eo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function no(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function ro(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function io(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new ke(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Xi(t,e,0,r,ji(t,n,i.hostVars,Ii),i)}function oo(t,e,n){const r=Nt(e,t),i=Zi(n),o=t[10],s=po(t,Fi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function so(t,e,n,r,i,o,s){if(null==o)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ao(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function uo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function co(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function lo(t,e){const n=Lt(e,t);if(Vt(n)){const t=n[1];80&n[2]?qi(t,n,t.template,n[8]):n[5]>0&&ho(n)}}function ho(t){for(let n=Lr(t);null!==n;n=Fr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];qi(t,e,t.template,e[8])}else e[5]>0&&ho(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Vt(r)&&r[5]>0&&ho(r)}}function fo(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ui(r,n,n[8])}function po(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function go(t){for(;t;){t[2]|=64;const e=Pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function mo(t,e,n){const r=e[10];r.begin&&r.begin();try{qi(t,e,t.template,n)}catch(i){throw Eo(e,i),i}finally{r.end&&r.end()}}function yo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Sr(n),i=r[1];Gi(i,r,i.template,n)}}(t[8])}function vo(t,e,n){ue(0),e(t,n)}const bo=(()=>Promise.resolve(null))();function wo(t){return t[7]||(t[7]=[])}function _o(t){return t.cleanup||(t.cleanup=[])}function Eo(t,e){const n=t[9],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function So(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function To(t,e,n){const r=Dt(e,t);Ur(t[11],r,n)}function Co(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Io=new cn("INJECTOR",-1);class Ao{get(t,e=wn){if(e===wn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const xo=new cn("Set Injector scope."),ko={},Oo={};let Do;function No(){return void 0===Do&&(Do=new Ao),Do}function Ro(t,e=null,n=null,r){return new Po(t,n,e||No(),r)}class Po{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dn(e,n=>this.processProvider(n,t,e)),dn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Io,Vo(void 0,this));const o=this.records.get(xo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=wn,n=O.Default){this.assertNotDestroyed();const r=Cn(this),i=N(void 0);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof cn)&&S(t);e=n&&this.injectableDefInScope(n)?Vo(Lo(t),ko):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?No():this.parent).get(t,e=n&O.Optional&&e===wn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[En]&&i.unshift(e[En]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{N(i),Cn(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{dn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dn(r,t=>this.processProvider(t,n,r||B))}}this.injectorDefTypes.add(o);const a=yt(o)||(()=>new o);this.records.set(o,Vo(a,ko));const u=r.providers;if(null!=u&&!s){const e=t;dn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=jo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Mo(t)?Vo(void 0,t.useValue):Vo(Fo(t),ko)}(t);if(jo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Vo(void 0,ko,!0),e.factory=()=>xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ko&&(e.value=Oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Lo(t){const e=S(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof cn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Fo(t,e,n){let r;if(jo(t)){const e=p(t);return yt(e)||Lo(e)}if(Mo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>An(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Lo(e);r=()=>new e(...xn(t.deps))}var i;return r}function Vo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Mo(t){return null!==t&&"object"==typeof t&&Sn in t}function jo(t){return"function"==typeof t}const Uo=function(t,e,n){return function(t,e=null,n=null,r){const i=Ro(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class qo{static create(t,e){return Array.isArray(t)?Uo(t,e,""):Uo(t.providers,t.parent,t.name||"")}}function Go(t,e){Ee(Sr(t)[1],$t())}function Bo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ho(t.inputs),e.declaredInputs=Ho(t.declaredInputs),e.outputs=Ho(t.outputs);const n=i.hostBindings;n&&Zo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&zo(t,o),s&&$o(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Bo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Re(i.hostAttrs,n=Re(n,i.hostAttrs))}}(r)}function Ho(t){return t===G?{}:t===B?[]:t}function zo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function $o(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Zo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}qo.THROW_IF_NOT_FOUND=wn,qo.NULL=new Ao,qo.\u0275prov=_({token:qo,providedIn:"any",factory:()=>An(Io)}),qo.__NG_ELEMENT_ID__=-1;let Ko=null;function Qo(){if(!Ko){const t=q.Symbol;if(t&&t.iterator)Ko=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ko=n)}}}return Ko}class Wo{constructor(t){this.wrapped=t}static wrap(t){return new Wo(t)}static unwrap(t){return Wo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Wo}}function Jo(t){return!!Yo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Qo()in t)}function Yo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xo(t,e,n){return t[e]=n}function ts(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function es(t,e,n,r){const i=ts(t,e,n);return ts(t,e+1,r)||i}function ns(t,e,n,r){const i=Bt();return ts(i,ne(),e)&&(Ht(),function(t,e,n,r,i,o){const s=Nt(t,e);so(e[11],s,o,t.value,n,r,i)}(be(),i,t,e,n,r)),ns}function rs(t,e,n,r){return ts(t,ne(),n)?e+y(n)+r:Ii}function is(t,e,n,r,i,o,s,a){const u=Bt(),c=Ht(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Vi(e,t,4,s||null,Mt(c,a));Yi(e,n,l,Mt(c,u)),Ee(e,l);const h=l.tViews=Ki(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=u[11].createComment("");ii(c,u,f,h),Er(f,u),po(u,u[l]=co(f,u,f,h)),gt(h)&&zi(c,u,h),null!=s&&$i(u,h,a)}function os(t){return Pt(qt.lFrame.contextLView,ct+t)}function ss(t,e=O.Default){const n=Bt();return null===n?An(t,e):Ke($t(),n,p(t),e)}function as(t,e,n){const r=Bt();return ts(r,ne(),e)&&Ji(Ht(),be(),r,t,e,r[11],n,!1),as}function us(t,e,n,r,i){const o=i?"class":"style";So(t,n,e.inputs[o],o,r)}function cs(t,e,n,r){const i=Bt(),o=Ht(),s=ct+t,a=i[11],u=i[s]=Gr(a,e,qt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Vi(e,t,2,i,Mt(a,o));return Yi(e,n,u,Mt(a,s)),null!==u.attrs&&Co(u,u.attrs,!1),null!==u.mergedAttrs&&Co(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Oe(a,u,l);const h=c.classes;null!==h&&di(a,u,h);const f=c.styles;null!==f&&fi(a,u,f),64!=(64&c.flags)&&ii(o,i,u,c),0===qt.lFrame.elementDepthCount&&Er(u,i),qt.lFrame.elementDepthCount++,gt(c)&&(zi(o,i,c),Hi(o,c,i)),null!==r&&$i(i,c)}function ls(){let t=$t();Wt()?Jt():(t=t.parent,Qt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(Ee(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&us(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&us(n,e,Bt(),e.stylesWithoutHost,!1)}function hs(t,e,n,r){cs(t,e,n,r),ls()}function fs(t,e,n){const r=Bt(),i=Ht(),o=t+ct,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Mt(o,r),a=Vi(e,t,8,"ng-container",s);return null!==s&&Co(a,s,!0),Yi(e,n,a,Mt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Qt(s,!0);const a=r[o]=r[11].createComment("");ii(i,r,a,s),Er(a,r),gt(s)&&(zi(i,r,s),Hi(i,s,r)),null!=n&&$i(r,s)}function ds(){let t=$t();const e=Ht();Wt()?Jt():(t=t.parent,Qt(t,!1)),e.firstCreatePass&&(Ee(e,t),dt(t)&&e.queries.elementEnd(t))}function ps(){return Bt()}function gs(t){return!!t&&"function"==typeof t.then}function ms(t){return!!t&&"function"==typeof t.subscribe}const ys=ms;function vs(t,e,n,r){const i=Bt(),o=Ht(),s=$t();return function(t,e,n,r,i,o,s,a){const u=gt(r),c=t.firstCreatePass&&_o(t),l=wo(e);let h=!0;if(3&r.type||a){const f=Nt(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(Ot(t[r.index])):r.index;if(xt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ws(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=ws(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=ws(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),vs}function bs(t,e,n,r){try{return!1!==n(r)}catch(i){return Eo(t,i),!1}}function ws(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&go(s);let a=bs(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=bs(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function _s(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function Es(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ei(t,o,!0):Si(r,o))return i}else n=i}return n}function Ss(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=mn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Es(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ts(t,e=0,n){const r=Bt(),i=Ht(),o=Vi(i,ct+t,16,null,n||null);null===o.projection&&(o.projection=e),Jt(),64!=(64&o.flags)&&function(t,e,n){hi(e[11],0,e,n,Zr(t,n,e),Xr(n.parent||e[6],n,e))}(i,r,o)}function Cs(t,e,n){return Is(t,"",e,"",n),Cs}function Is(t,e,n,r,i){const o=Bt(),s=rs(o,e,n,r);return s!==Ii&&Ji(Ht(),be(),o,t,s,o[11],i,!1),Is}function As(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Oi(o):Ni(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];xs(t[a],e)&&(u=!0,t[a+1]=r?Pi(n):Di(n)),a=r?Oi(n):Ni(n)}u&&(t[n+1]=r?Di(o):Pi(o))}function xs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const ks={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Os(t){return t.substring(ks.key,ks.keyEnd)}function Ds(t,e){const n=ks.textEnd;return n===e?-1:(e=ks.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ks.key=e,n),Ns(t,e,n))}function Ns(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Rs(t,e,n){return Vs(t,e,n,!1),Rs}function Ps(t,e){return Vs(t,e,null,!0),Ps}function Ls(t){Ms(yn,Fs,t,!0)}function Fs(t,e){for(let n=function(t){return function(t){ks.key=0,ks.keyEnd=0,ks.value=0,ks.valueEnd=0,ks.textEnd=t.length}(t),Ds(t,Ns(t,0,ks.textEnd))}(e);n>=0;n=Ds(e,n))yn(t,Os(e),!0)}function Vs(t,e,n,r){const i=Bt(),o=Ht(),s=re(2);o.firstUpdatePass&&Us(o,t,s,r),e!==Ii&&ts(i,s,e)&&Bs(o,o.data[ye()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(qn(t)))),t}(e,n),r,s)}function Ms(t,e,n,r){const i=Ht(),o=re(2);i.firstUpdatePass&&Us(i,null,o,r);const s=Bt();if(n!==Ii&&ts(s,o,n)){const a=i.data[ye()];if($s(a,r)&&!js(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),us(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Ii&&(i=B);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Bs(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return B;const r=[],i=qn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function js(t,e){return e>=t.expandoStartIndex}function Us(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ye()],s=js(t,n);$s(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Gs(n=qs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=qs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ni(r))return t[Oi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=qs(null,t,e,n[1],r),n=Gs(n,e.attrs,r),function(t,e,n,r){t[Oi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Gs(r,t[o].hostAttrs,n);return Gs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oi(s),u=Ni(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Oi(t[a+1]);t[r+1]=ki(e,a),0!==e&&(t[e+1]=Ri(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ki(a,0),0!==a&&(t[a+1]=Ri(t[a+1],r)),a=r;else t[r+1]=ki(u,0),0===a?a=r:t[u+1]=Ri(t[u+1],r),u=r;l&&(t[r+1]=Di(t[r+1])),As(t,c,r,!0),As(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&bn(o,e)>=0&&(n[r+1]=Pi(n[r+1]))}(e,c,t,r,o),s=ki(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function qs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Gs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Gs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Bs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];zs(1==(1&c)?Hs(u,e,n,i,Ni(c),s):void 0)||(zs(o)||2==(2&c)&&(o=Hs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=xt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Dr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Dr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Dt(ye(),n),i,o))}function Hs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Ii&&(l=c?B:void 0);let h=c?vn(l,r):u===r?l:void 0;if(o&&!zs(h)&&(h=vn(e,r)),zs(h)&&(a=h,s))return a;const f=t[i+1];i=s?Oi(f):Ni(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=vn(t,r))}return a}function zs(t){return void 0!==t}function $s(t,e){return 0!=(t.flags&(e?16:32))}function Zs(t,e=""){const n=Bt(),r=Ht(),i=t+ct,o=r.firstCreatePass?Vi(r,i,1,e,null):r.data[i],s=n[i]=jr(n[11],e);ii(r,n,s,o),Qt(o,!1)}function Ks(t){return Qs("",t,""),Ks}function Qs(t,e,n){const r=Bt(),i=rs(r,t,e,n);return i!==Ii&&To(r,ye(),i),Qs}function Ws(t,e,n,r,i){const o=Bt(),s=function(t,e,n,r,i,o){const s=es(t,ee(),n,i);return re(2),s?e+y(n)+r+y(i)+o:Ii}(o,t,e,n,r,i);return s!==Ii&&To(o,ye(),s),Ws}function Js(t,e,n,r,i,o,s,a,u){Ms(yn,Fs,function(t,e,n,r,i,o,s,a,u,c){const l=function(t,e,n,r,i,o){const s=es(t,e,n,r);return es(t,e+2,i,o)||s}(t,ee(),n,i,s,u);return re(4),l?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c:Ii}(Bt(),t,e,n,r,i,o,s,a,u),!0)}function Ys(t,e,n){const r=Bt();return ts(r,ne(),e)&&Ji(Ht(),be(),r,t,e,r[11],n,!0),Ys}const Xs=void 0;var ta=["en",[["a","p"],["AM","PM"],Xs],[["AM","PM"],Xs,Xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xs,"{1} 'at' {0}",Xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ea={};function na(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ia(e);if(n)return n;const r=e.split("-")[0];if(n=ia(r),n)return n;if("en"===r)return ta;throw new Error(`Missing locale data for the locale "${t}".`)}function ra(t){return na(t)[oa.PluralCase]}function ia(t){return t in ea||(ea[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),ea[t]}var oa=(()=>((oa=oa||{})[oa.LocaleId=0]="LocaleId",oa[oa.DayPeriodsFormat=1]="DayPeriodsFormat",oa[oa.DayPeriodsStandalone=2]="DayPeriodsStandalone",oa[oa.DaysFormat=3]="DaysFormat",oa[oa.DaysStandalone=4]="DaysStandalone",oa[oa.MonthsFormat=5]="MonthsFormat",oa[oa.MonthsStandalone=6]="MonthsStandalone",oa[oa.Eras=7]="Eras",oa[oa.FirstDayOfWeek=8]="FirstDayOfWeek",oa[oa.WeekendRange=9]="WeekendRange",oa[oa.DateFormat=10]="DateFormat",oa[oa.TimeFormat=11]="TimeFormat",oa[oa.DateTimeFormat=12]="DateTimeFormat",oa[oa.NumberSymbols=13]="NumberSymbols",oa[oa.NumberFormats=14]="NumberFormats",oa[oa.CurrencyCode=15]="CurrencyCode",oa[oa.CurrencySymbol=16]="CurrencySymbol",oa[oa.CurrencyName=17]="CurrencyName",oa[oa.Currencies=18]="Currencies",oa[oa.Directionality=19]="Directionality",oa[oa.PluralCase=20]="PluralCase",oa[oa.ExtraData=21]="ExtraData",oa))();const sa=["zero","one","two","few","many"],aa="en-US",ua={marker:"element"},ca={marker:"ICU"};var la=(()=>((la=la||{})[la.SHIFT=2]="SHIFT",la[la.APPEND_EAGERLY=1]="APPEND_EAGERLY",la[la.COMMENT=2]="COMMENT",la))();let ha=aa;function fa(t){var e;null==(e=t)&&w("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ha=t.toLowerCase().replace(/_/g,"-"))}function da(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ti(t,0,n):Ot(n[i])}function pa(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Qr(t,s,n[o[e]],a,!1)}}function ga(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];ma(r)||ya(r,e)&&null===va(r)&&ba(r,e.index)}}function ma(t){return!(64&t.type)}function ya(t,e){return ma(e)||t.index>e.index}function va(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function ba(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ri(da,pa),t.insertBeforeIndex=e)}function wa(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function _a(t,e,n){const r=Mi(t,n,64,null,null);return ga(e,r),r}function Ea(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Sa=0,Ta=0;function Ca(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=jr(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Yr(i,r)),c===s?(l=r,h=o):(l=null,h=Ot(n[c])),null!==h){const e=(131070&u)>>>1;Qr(i,h,n[e],l,!1);const r=wa(t,e);if(null!==r&&"object"==typeof r){const e=Ea(r,n);null!==e&&Ca(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];so(i,Dt(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case ca:const t=e[++a],r=e[++a];null===n[r]&&Er(n[r]=qr(i,t),n);break;case ua:const o=e[++a],s=e[++a];null===n[s]&&Er(n[s]=Gr(i,o,null),n)}}}function Ia(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=y(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?so(e[11],e[a],null,c,o,i,u):Ji(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Ur(e[11],l,i);break;case 2:xa(t,wa(t,a),e,i);break;case 3:Aa(t,wa(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=wa(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Aa(t,n,r,e)}}o+=a}}function Aa(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=Sa;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Ia(t,r,e.update[i],n,o)}}function xa(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ra(e)(parseInt(t,10)),r=sa[n];return void 0!==r?r:"other"}(e,ha);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Ea(e,n)!==i&&(ka(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Ca(t,e.create[i],n,r)}}function ka(t,e,n){let r=Ea(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Dt(r,n);null!==t&&ui(n[11],t)}else ka(t,wa(t,~r),n)}}}const Oa=/\ufffd(\d+):?\d*\ufffd/gi,Da=/\ufffd(\d+)\ufffd/,Na=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ra=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Pa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,La=/\uE500/g;function Fa(t,e,n,r,i,o,s){const a=ji(t,r,1,null);let u=a<<la.SHIFT,c=Kt();e===c&&(c=null),null===c&&(u|=la.APPEND_EAGERLY),s&&(u|=la.COMMENT,void 0===Nr&&(Nr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Ea(t,e);n=null!==i?t.remove[i]:B}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Mi(t,a,s?32:1,null===o?"":o,null);ga(n,l);const h=l.index;return Qt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ri(da,pa),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Va(t,e,n,r,i,o,s){const a=s.match(Oa),u=Fa(t,e,n,o,r,a?null:s,!1);a&&Ma(i,s,u.index,null,0,null)}function Ma(t,e,n,r,i,o){const s=t.length,a=s+1;t.push(null,null);const u=s+2,c=e.split(Oa);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=ja(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,o),t[s]=l,t[a]=t.length-u,l}function ja(t){return 1<<Math.min(t,31)}function Ua(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Ra.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function qa(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:ji(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(ja(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=Ha(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function Ga(t){const e=[],n=[];let r=1,i=0;const o=Ba(t=t.replace(Na,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Ba(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Ba(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Na.test(n)?r.push(Ga(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Ha(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Qn(At()).getInertBodyElement(s),f=br(h)||h;return f?za(t,e,n,r,u,c,l,f,i,a,0):0}function za(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=ji(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(ur.hasOwnProperty(p)){Ka(i,ua,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(Oa)?hr.hasOwnProperty(n)&&Ma(s,e.value,a,e.name,0,cr[n]?tr:lr[n]?er:null):Qa(i,a,e)}h=za(t,e,n,r,i,o,s,f,a,c,l+1)|h,$a(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(Oa);Ka(i,null,m?"":g,u,a),$a(o,a,l),m&&(h=Ma(s,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Da.exec(f.textContent||"");if(y){const e=c[parseInt(y[1],10)];Ka(i,ca,"",u,a),qa(t,n,r,u,e,a),Za(o,a,l)}}f=f.nextSibling}return h}function $a(t,e,n){0===n&&t.push(e)}function Za(t,e,n){0===n&&(t.push(~e),t.push(e))}function Ka(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Qa(t,e,n){t.push(e<<1|1,n.name,n.value)}function Wa(t,e,n){(function(t,e,n=-1){const r=Ht(),i=Bt(),o=ct+t,s=Mt(r.consts,e),a=Kt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=Kt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Ua(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ua(t.substring(n,r))}}(i,o),h.replace(La," ")).split(Pa);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=Ba(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Va(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);qa(t,n,u,e,r,Fa(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ct+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Qt(Kt(),!1);else{const e=_a(t,c[0],n);c.unshift([]),Qt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Kr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&la.COMMENT)===la.COMMENT,c=(s&la.APPEND_EAGERLY)===la.APPEND_EAGERLY,l=s>>>la.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):jr(i,a)),c&&null!==n&&Qr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ie(!0)})(t,e,n),ie(!1)}function Ja(t){return ts(Bt(),ne(),t)&&(Sa|=1<<Math.min(Ta,31)),Ta++,Ja}function Ya(t){!function(t,e,n){if(Ta>0){const r=t.data[n];Ia(t,e,Array.isArray(r)?r:r.update,ee()-Ta-1,Sa)}Sa=0,Ta=0}(Ht(),Bt(),t+ct)}function Xa(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Xa(t[o],e,n,r,i);else{const o=Ht(),s=Bt();let a=jo(t)?t:p(t.provide),u=Fo(t);const c=$t(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(jo(t)||!t.multi){const r=new ke(u,i,ss),d=nu(a,e,i?l:l+f,h);-1===d?(ze(qe(c,s),o,a),tu(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=nu(a,e,l+f,h),p=nu(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){ze(qe(c,s),o,a);const l=function(t,e,n,r,i){const o=new ke(t,n,ss);return o.multi=[],o.index=e,o.componentProviders=0,eu(o,i,r&&!n),o}(i?iu:ru,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),tu(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else tu(o,t,d>-1?d:p,eu(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function tu(t,e,n,r){const i=jo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function eu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function nu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ru(t,e,n,r){return ou(this.multi,[])}function iu(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Xe(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ou(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ou(i,o);return o}function ou(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function su(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ht();if(r.firstCreatePass){const i=mt(t);Xa(n,r.data,r.blueprint,i,!0),Xa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class au{}class uu{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class cu{}function lu(...t){}function hu(t,e){return new du(Nt(t,e))}cu.NULL=new uu;const fu=function(){return hu($t(),Bt())};let du=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=fu,t})();function pu(t){return t instanceof du?t.nativeElement:t}class gu{}let mu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>yu(),t})();const yu=function(){const t=Bt(),e=Lt($t().index,t);return function(t){return t[11]}(ht(e)?e:t)};let vu=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class bu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wu=new bu("12.1.3");class _u{constructor(){}supports(t){return Jo(t)}create(t){return new Su(t)}}const Eu=(t,e)=>e;class Su{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Eu}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Au(n,r,i)?e:n,s=Au(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Jo(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Qo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Tu(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Iu),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Iu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Tu{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cu{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Iu{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Cu,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Au(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xu{constructor(){}supports(t){return t instanceof Map||Yo(t)}create(){return new ku}}class ku{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Yo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ou(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ou{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Du(){return new Nu([new _u])}let Nu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Du()),deps:[[t,new Nn,new Dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Du}),t})();function Ru(){return new Pu([new xu])}let Pu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ru()),deps:[[t,new Nn,new Dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Ru}),t})();function Lu(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ot(o)),ft(o))for(let t=lt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Lu(e[1],e,n,r)}const s=n.type;if(8&s)Lu(t,e,n.child,r);else if(32&s){const t=Rr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=si(e,n);if(Array.isArray(t))r.push(...t);else{const n=Pr(e[16]);Lu(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Fu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Lu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Hr(t,n),gn(e,n))}this._attachedToViewContainer=!1}zr(this._lView[1],this._lView)}onDestroy(t){Qi(this._lView[1],this._lView,null,t)}markForCheck(){go(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{mo(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,li(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Vu extends Fu{constructor(t){super(t),this._view=t}detectChanges(){yo(this._view)}checkNoChanges(){!function(t){Xt(!0);try{yo(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const Mu=function(t){return function(t,e,n){if(pt(t)&&!n){const n=Lt(t.index,e);return new Fu(n,n)}return 47&t.type?new Fu(e[16],e):null}($t(),Bt(),16==(16&t))};let ju=(()=>{class t{}return t.__NG_ELEMENT_ID__=Mu,t})();const Uu=[new xu],qu=new Nu([new _u]),Gu=new Pu(Uu),Bu=function(){return Zu($t(),Bt())};let Hu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Bu,t})();const zu=Hu,$u=class extends zu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Fi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ui(e,n,t),new Fu(n)}};function Zu(t,e){return 4&t.type?new $u(e,t,hu(t,e)):null}class Ku{}class Qu{}const Wu=function(){return nc($t(),Bt())};let Ju=(()=>{class t{}return t.__NG_ELEMENT_ID__=Wu,t})();const Yu=Ju,Xu=class extends Yu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return hu(this._hostTNode,this._hostLView)}get injector(){return new nn(this._hostTNode,this._hostLView)}get parentInjector(){const t=He(this._hostTNode,this._hostLView);if(Le(t)){const e=Ve(t,this._hostLView),n=Fe(t);return new nn(e[1].data[n+8],e)}return new nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=tc(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ku,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Xu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=lt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-lt?(e[4]=n[i],pn(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=ai(i,o),a=n[11],u=Yr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,li(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),pn(ec(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=tc(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);n&&(gn(ec(this._lContainer),e),zr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);return n&&null!=gn(ec(this._lContainer),e)?new Fu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function tc(t){return t[8]}function ec(t){return t[8]||(t[8]=[])}function nc(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Ot(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Qr(n,Yr(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=co(r,e,i,t),po(e,n)}return new Xu(n,t,e)}const rc={};class ic extends cu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new ac(e,this.ngModule)}}function oc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const sc=new cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kr});class ac extends au{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ci).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return oc(this.componentDef.inputs)}get outputs(){return oc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,rc,i);return o!==rc||r===rc?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(gu,kt),s=i.get(vu,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Gr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?Tt:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:kr,clean:bo,playerHandler:null,flags:0},f=Ki(0,null,null,1,0,null,null,null,null,null),d=Fi(null,f,h,l,null,null,o,a,s,i);let p,g;he(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Vi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Co(a,u,!0),null!==t&&(Oe(i,t,u),null!==a.classes&&di(i,t,a.classes),null!==a.styles&&fi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Fi(n,Zi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(ze(qe(a,n),s,e.type),eo(s,a),ro(a,n.length,1)),po(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Oe(a,c,["ng-version",wu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!wi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Oe(a,c,t),e&&e.length>0&&di(a,c,e.join(" "))}if(g=Rt(f,ct),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),io(t,r,e,ji(t,e,1,null),n));const i=Xe(e,t,r.directiveStart,r);Er(i,e);const o=Nt(r,e);return o&&Er(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=$t();e.contentQueries(1,s,t.directiveStart)}const a=$t();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),Xi(n[1],a,0,a.directiveStart,a.directiveEnd,e),to(e,s)),s}(t,this.componentDef,d,h,[Go]),Ui(f,d,null)}finally{me()}return new uc(this.componentType,p,hu(g,d),d,g)}}class uc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Vu(r),this.componentType=t}get injector(){return new nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const cc=new Map;class lc extends Ku{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ic(this);const n=ut(t),r=t[K]||null;r&&fa(r),this._bootstrapComponents=Or(n.bootstrap),this._r3Injector=Ro(t,e,[{provide:Ku,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=qo.THROW_IF_NOT_FOUND,n=O.Default){return t===qo||t===Ku||t===Io?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class hc extends Qu{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,cc.get(i),n),cc.set(i,n));const o=Or(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new lc(this.moduleType,t)}}function fc(t,e,n,r){return mc(Bt(),te(),t,e,n,r)}function dc(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return es(t,a,i,o)?Xo(t,a+2,s?r.call(s,i,o):r(i,o)):gc(t,a+2)}(Bt(),te(),t,e,n,r,i)}function pc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=es(t,e,n,r);return ts(t,e+2,i)||o}(t,u,i,o,s)?Xo(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):gc(t,u+3)}(Bt(),te(),t,e,n,r,i,o)}function gc(t,e){const n=t[e];return n===Ii?void 0:n}function mc(t,e,n,r,i,o){const s=e+n;return ts(t,s,i)?Xo(t,s+1,o?r.call(o,i):r(i)):gc(t,s+1)}function yc(t,e){const n=Ht();let r;const i=t+ct;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=yt(r.type)),s=N(ss);try{const t=je(!1),e=o();return je(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Bt(),i,e),e}finally{N(s)}}function vc(t,e,n){const r=t+ct,i=Bt(),o=Pt(i,r);return function(t,e){return Wo.isWrapped(e)&&(e=Wo.unwrap(e),t[ee()]=Ii),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?mc(i,te(),e,o.transform,n,o):o.transform(n))}function bc(t){return e=>{setTimeout(t,void 0,e)}}const wc=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=bc(u),a&&(a=bc(a)),c&&(c=bc(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function _c(){return this._results[Qo()]()}class Ec{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Qo(),n=Ec.prototype;n[e]||(n[e]=_c)}get changes(){return this._changes||(this._changes=new wc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=fn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Sc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Tc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Mc(t,e).matches&&this.queries[e].setDirty()}}class Cc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ic{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ic(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ac{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ac(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,xc(e,i)),this.matchTNodeWithReadOption(t,e,Ye(e,t,i,!1,!1))}else n===Hu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===du||r===Ju||r===Hu&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function xc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function kc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?hu(t,e):4&t.type?Zu(t,e):null}(e,t):-2===n?function(t,e,n){return n===du?hu(e,t):n===Hu?Zu(e,t):n===Ju?nc(e,t):void 0}(t,e,r):Xe(t,t[1],n,e)}function Oc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:kc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Dc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Oc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=lt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Dc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Dc(n[1],n,i,r)}}}}}return r}function Nc(t){const e=Bt(),n=Ht(),r=ae();ue(r+1);const i=Mc(n,r);if(t.dirty&&Ft(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Dc(n,e,r,[]):Oc(n,e,i,r);t.reset(o,pu),t.notifyOnChanges()}return!0}return!1}function Rc(t,e,n){const r=Ht();r.firstCreatePass&&(Vc(r,new Cc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Fc(r,Bt(),e)}function Pc(t,e,n,r){const i=Ht();if(i.firstCreatePass){const o=$t();Vc(i,new Cc(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Fc(i,Bt(),n)}function Lc(){return t=Bt(),e=ae(),t[19].queries[e].queryList;var t,e}function Fc(t,e,n){const r=new Ec(4==(4&n));Qi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Tc),e[19].queries.push(new Sc(r))}function Vc(t,e,n){null===t.queries&&(t.queries=new Ic),t.queries.track(new Ac(e,n))}function Mc(t,e){return t.queries.getByIndex(e)}function jc(t,e){return Zu(t,e)}const Uc=new cn("Application Initializer");let qc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=lu,this.reject=lu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(gs(e))t.push(e);else if(ys(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An(Uc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Gc=new cn("AppId"),Bc={provide:Gc,useFactory:function(){return`${Hc()}${Hc()}${Hc()}`},deps:[]};function Hc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zc=new cn("Platform Initializer"),$c=new cn("Platform ID"),Zc=new cn("appBootstrapListener");let Kc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Qc=new cn("LocaleId"),Wc=new cn("DefaultCurrencyCode");class Jc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Yc=function(t){return new hc(t)},Xc=Yc,tl=function(t){return Promise.resolve(Yc(t))},el=function(t){const e=Yc(t),n=Or(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new ac(n)),t},[]);return new Jc(e,n)},nl=el,rl=function(t){return Promise.resolve(el(t))};let il=(()=>{class t{constructor(){this.compileModuleSync=Xc,this.compileModuleAsync=tl,this.compileModuleAndAllComponentsSync=nl,this.compileModuleAndAllComponentsAsync=rl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const ol=(()=>Promise.resolve(0))();function sl(t){"undefined"==typeof Zone?ol.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class al{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wc(!1),this.onMicrotaskEmpty=new wc(!1),this.onStable=new wc(!1),this.onError=new wc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ll(t),t.isCheckStableRunning=!0,cl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ll(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return hl(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),fl(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return hl(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),fl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ll(t),cl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!al.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(al.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ul,lu,lu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ul={};function cl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ll(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fl(t){t._nesting--,cl(t)}class dl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wc,this.onMicrotaskEmpty=new wc,this.onStable=new wc,this.onError=new wc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let pl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{al.assertNotInAngularZone(),sl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(al))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),gl=(()=>{class t{constructor(){this._applications=new Map,bl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return bl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class ml{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function yl(t){bl=t}let vl,bl=new ml,wl=!0,_l=!1;function El(){return _l=!0,wl}function Sl(){if(_l)throw new Error("Cannot enable prod mode after platform setup.");wl=!1}const Tl=new cn("AllowMultipleToken");class Cl{constructor(t,e){this.name=t,this.token=e}}function Il(t,e,n=[]){const r=`Platform: ${e}`,i=new cn(r);return(e=[])=>{let o=Al();if(!o||o.injector.get(Tl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:xo,useValue:"platform"});!function(t){if(vl&&!vl.destroyed&&!vl.injector.get(Tl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vl=t.get(xl);const e=t.get(zc,null);e&&e.forEach(t=>t())}(qo.create({providers:t,name:r}))}return function(t){const e=Al();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Al(){return vl&&!vl.destroyed?vl:null}let xl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new dl:("zone.js"===t?void 0:t)||new al({enableLongStackTrace:El(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:al,useValue:n}];return n.run(()=>{const e=qo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ir,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Dl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return gs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(qc);return t.runInitializers(),t.donePromise.then(()=>(fa(i.injector.get(Qc,aa)||aa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=kl({},e);return function(t,e,n){const r=new hc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ol);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(qo))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function kl(t,e){return Array.isArray(e)?e.reduce(kl,t):Object.assign(Object.assign({},t),e)}let Ol=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{al.assertNotInAngularZone(),sl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{al.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof au?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ku),i=n.create(qo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(pl,null),a=s&&i.injector.get(gl);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Dl(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Dl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Zc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(al),An(qo),An(Ir),An(cu),An(qc))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Dl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Nl{}class Rl{}const Pl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ll=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Pl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Fl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Fl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(An(il),An(Rl,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Fl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Vl=function(t){return null},Ml=Il(null,"core",[{provide:$c,useValue:"unknown"},{provide:xl,deps:[qo]},{provide:gl,deps:[]},{provide:Kc,deps:[]}]),jl=[{provide:Ol,useClass:Ol,deps:[al,qo,Ir,cu,qc]},{provide:sc,deps:[al],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:qc,useClass:qc,deps:[[new Dn,Uc]]},{provide:il,useClass:il,deps:[]},Bc,{provide:Nu,useFactory:function(){return qu},deps:[]},{provide:Pu,useFactory:function(){return Gu},deps:[]},{provide:Qc,useFactory:function(t){return fa(t=t||"undefined"!=typeof $localize&&$localize.locale||aa),t},deps:[[new On(Qc),new Dn,new Nn]]},{provide:Wc,useValue:"USD"}];let Ul=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(An(Ol))},t.\u0275mod=nt({type:t}),t.\u0275inj=E({providers:jl}),t})()},57:(t,e,n)=>{"use strict";n.d(e,{hO:()=>A,xv:()=>b,Dh:()=>v,Ot:()=>w,HU:()=>d,GT:()=>y,sI:()=>C,on:()=>E,ss:()=>p,pX:()=>m,yq:()=>S});var r=n(7771),i=n(3637),o=n(8307),s=n(2639),a=n(9746),u=n(7716),c=n(2329);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig");class w{}const _=new u.GfV("6.1.5");function E(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&T("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const S=()=>{T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&T("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:w,useFactory:E,deps:[v,u.R0b,[new u.FiY,b]]};let A=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",_.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[I]}),t})()},9759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(4762),s=n(4685),a=n(6034),u=n(300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.28",void 0),t.registerVersion("fire-js","")}(w);const _=w},6034:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(4685),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},300:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>f,Am:()=>d});var o=[],s=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(s||(s={})),s))(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},4685:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>S,ZR:()=>E,zI:()=>_,$s:()=>O,r3:()=>I,Sg:()=>u,ne:()=>A,p$:()=>o,ZB:()=>s,m9:()=>D,z$:()=>c,jU:()=>f,ru:()=>d,d:()=>g,w1:()=>m,hl:()=>b,uI:()=>l,UG:()=>h,b$:()=>p,G6:()=>v,Mn:()=>y,eu:()=>w});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}function v(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"indexedDB"in self&&null!=indexedDB}function w(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function _(){return!(!navigator||!navigator.cookieEnabled)}var E=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?T(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new E(i,a,r);return u},t}();function T(t,e){return t.replace(C,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var C=/\{\$([^}]+)}/g;function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function A(t,e){var n=new x(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var x=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function k(){}function O(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function D(t){return t&&t._delegate?t._delegate:t}},2329:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(9759),i="8.8.0";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},1593:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var r=n(9193),i=n(5917),o=n(7574);class s{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return t=this.error,new o.y(e=>e.error(t));case"C":return(0,r.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new s("N",t):s.undefinedValueNotification}static createError(t){return new s("E",void 0,t)}static createComplete(){return s.completeNotification}}s.completeNotification=new s("C"),s.undefinedValueNotification=new s("N",void 0)},7574:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(7393),i=n(9181),o=n(6490),s=n(6554),a=n(4487),u=n(2494);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(2494),i=n(4449);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(7574),i=n(7393),o=n(5319),s=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},8858:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(9105),i=n(6490),o=n(5319),s=n(9181),a=n(2494),u=n(4449);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(9796),i=n(1555),o=n(9105);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,o.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof s?c(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof s?t=t.concat(c(h.errors)):t.push(h)}}}if(t)throw new s(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var u;function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(7393),i=n(7574),o=n(7444);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2441:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(9765),i=n(7574),o=n(5319),s=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9193:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(7574);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(7574),i=n(7444),o=n(5319),s=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(7574),i=n(5015),o=n(4087);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},6682:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(7574),i=n(4869),o=n(3282),s=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},5917:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(4869),i=n(6693),o=n(4087);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},8002:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(9773),i=n(4487);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(8002),i=n(4402),o=n(5345);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(t,e,n)=>{"use strict";n.d(e,{QV:()=>o,ht:()=>a});var r=n(7393),i=n(1593);function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.P.createNext(t))}_error(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},1307:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(7393);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},8819:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2441),i=n(1307),o=n(9765);function s(){return new o.xQ}function a(){return t=>{return(0,i.x)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},2639:(t,e,n)=>{"use strict";n.d(e,{R:()=>p});var r=n(7574);let i=1;const o=Promise.resolve(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}});var f=n(6561);class d extends r.y{constructor(t,e=0,n=h){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,f.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(t,e=0,n=h){return new d(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(d.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}},8307:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(7393),i=n(8640),o=n(9105);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.Z,this._tapError=e.error||i.Z,this._tapComplete=e.complete||i.Z)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(7574),i=n(5319);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},3637:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(6465);const i=new(n(6102).v)(r.o),o=i},7771:(t,e,n)=>{"use strict";n.d(e,{c:()=>s,N:()=>o});var r=n(6465),i=n(6102);const o=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),s=o},377:(t,e,n)=>{"use strict";n.d(e,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},4487:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},9796:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},6561:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(9796);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},1555:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},4072:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},4869:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},8640:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},7444:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(5015),i=n(4449),o=n(377),s=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},5015:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},4743:(t,e,n)=>{"use strict";var r=n(7716);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(c)}let c=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){l()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){l()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:h,token:t,providedIn:"platform"}),t})();function l(){return!!window.history.pushState}function h(){return new c((0,r.LFG)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function d(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function p(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=(0,r.LFG)(s).location;return new v((0,r.LFG)(a),e&&e.origin||"")}const y=new r.OlP("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+p(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+p(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+p(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(y,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=d(_(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+p(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,_(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+p(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+p(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(g),r.LFG(a))},t.normalizeQueryParams=p,t.joinWithSlash=f,t.stripTrailingSlash=d,t.\u0275prov=(0,r.Yz7)({factory:w,token:t,providedIn:"root"}),t})();function w(){return new b((0,r.LFG)(g),(0,r.LFG)(a))}function _(t){return t.replace(/\/index.html$/,"")}var E=(()=>((E=E||{})[E.Zero=0]="Zero",E[E.One=1]="One",E[E.Two=2]="Two",E[E.Few=3]="Few",E[E.Many=4]="Many",E[E.Other=5]="Other",E))();const S=r.kL8;class T{}let C=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class I{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(jd){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new x(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new x(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class x{constructor(t,e){this.record=t,this.view=e}}let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:T,useClass:C}]}),t})();function O(t){return"browser"===t}function D(t){return"server"===t}class N extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new N,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(P=P||document.querySelector("base"),P?P.getAttribute("href"):null);return null==e?null:function(t){R=R||document.createElement("a"),R.setAttribute("href",t);const e=R.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){P=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let R,P=null;const L=new r.OlP("TRANSITION_ID"),F=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[L,s,r.zs3],multi:!0}];class V{static init(){(0,r.VLi)(new V)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let M=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const j=new r.OlP("EventManagerPlugins");let U=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(j),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let G=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),B=(()=>{class t extends G{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(H),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(H))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function H(t){o().remove(t)}const z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$=/%COMP%/g;function Z(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Z(t,i,n):(i=i.replace($,t),n.push(i))}return n}function K(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Q=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new W(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new J(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new Y(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Z(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(U),r.LFG(B),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(z[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=z[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=z[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,K(n)):this.eventManager.addEventListener(t,e,K(n))}}class J extends W{constructor(t,e,n,r){super(t),this.component=n;const i=Z(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace($,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace($,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Y extends W{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Z(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let X=(()=>{class t extends q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const tt=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let it=(()=>{class t extends q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(tt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&nt.hasOwnProperty(e)&&(e=nt[e]))}return et[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),tt.forEach(r=>{r!=n&&(0,rt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ot=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){N.makeCurrent(),V.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),st=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:j,useClass:X,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:j,useClass:it,multi:!0,deps:[s]},[],{provide:Q,useClass:Q,deps:[U,B,r.AFp]},{provide:r.FYo,useExisting:Q},{provide:G,useExisting:B},{provide:B,useClass:B,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:U,useClass:U,deps:[j,r.R0b]},{provide:class{},useClass:M,deps:[]},[]];let at=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:L,useExisting:r.AFp},F]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:st,imports:[k,r.hGG]}),t})();function ut(){return new ct((0,r.LFG)(s))}let ct=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:ut,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var lt=n(3637),ht=n(7574),ft=n(4402),dt=n(5917),pt=n(3282);function gt(...t){return(0,pt.J)(1)((0,dt.of)(...t))}var mt=n(4869);function yt(...t){const e=t[t.length-1];return(0,mt.K)(e)?(t.pop(),n=>gt(t,n,e)):e=>gt(t,e)}var vt=n(7393);function bt(){return t=>t.lift(new wt)}class wt{call(t,e){return e.subscribe(new _t(t))}}class _t extends vt.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Et=n(8002);function St(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Tt(t,e,n))}}class Tt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ct(t,this.accumulator,this.seed,this.hasSeed))}}class Ct extends vt.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function It(t,e){return n=>n.lift(new At(t,e))}class At{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xt(t,this.compare,this.keySelector))}}class xt extends vt.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function kt(t,e){return function(n){return n.lift(new Ot(t,e))}}class Ot{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Dt(t,this.predicate,this.thisArg))}}class Dt extends vt.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Nt=n(9746),Rt=n(57),Pt=n(2329),Lt=n(9759),Ft=n(4762),Vt=n(4685),Mt=n(300),jt=function(t,e){return(jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ut(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var qt,Gt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bt=Bt||{},Ht=Gt||self;function zt(){}function $t(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Zt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Kt="closure_uid_"+(1e9*Math.random()>>>0),Qt=0;function Wt(t,e,n){return t.call.apply(t.bind,arguments)}function Jt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wt:Jt).apply(null,arguments)}function Xt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function te(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ee(){this.s=this.s,this.o=this.o}var ne={};ee.prototype.s=!1,ee.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Kt)&&t[Kt]||(t[Kt]=++Qt)}(this);delete ne[t]}},ee.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var re=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ie=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function oe(t){return Array.prototype.concat.apply([],arguments)}function se(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ae(t){return/^[\s\xa0]*$/.test(t)}var ue,ce=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function le(t,e){return-1!=t.indexOf(e)}function he(t,e){return t<e?-1:t>e?1:0}t:{var fe=Ht.navigator;if(fe){var de=fe.userAgent;if(de){ue=de;break t}}ue=""}function pe(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ge(t){var e={};for(var n in t)e[n]=t[n];return e}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ve(t){return ve[" "](t),t}ve[" "]=zt;var be,we,_e=le(ue,"Opera"),Ee=le(ue,"Trident")||le(ue,"MSIE"),Se=le(ue,"Edge"),Te=Se||Ee,Ce=le(ue,"Gecko")&&!(le(ue.toLowerCase(),"webkit")&&!le(ue,"Edge"))&&!(le(ue,"Trident")||le(ue,"MSIE"))&&!le(ue,"Edge"),Ie=le(ue.toLowerCase(),"webkit")&&!le(ue,"Edge");function Ae(){var t=Ht.document;return t?t.documentMode:void 0}t:{var xe="",ke=(we=ue,Ce?/rv:([^\);]+)(\)|;)/.exec(we):Se?/Edge\/([\d\.]+)/.exec(we):Ee?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(we):Ie?/WebKit\/(\S+)/.exec(we):_e?/(?:Version)[ \/]?(\S+)/.exec(we):void 0);if(ke&&(xe=ke?ke[1]:""),Ee){var Oe=Ae();if(null!=Oe&&Oe>parseFloat(xe)){be=String(Oe);break t}}be=xe}var De={};var Ne=Ht.document&&Ee&&(Ae()||parseInt(be,10))||void 0,Re=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ht.addEventListener("test",zt,e),Ht.removeEventListener("test",zt,e)}catch(n){}return t}();function Pe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Le(t,e){if(Pe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ce){t:{try{ve(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Fe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Le.Z.h.call(this)}}Pe.prototype.h=function(){this.defaultPrevented=!0},te(Le,Pe);var Fe={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Me=0;function je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Me,this.ca=this.fa=!1}function Ue(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function qe(t){this.src=t,this.g={},this.h=0}function Ge(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=re(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ue(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Be(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}qe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Be(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new je(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var He="closure_lm_"+(1e6*Math.random()|0),ze={};function $e(t,e,n,r,i){if(r&&r.once)return Ke(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$e(t,e[o],n,r,i);return null}return n=en(n),t&&t[Ve]?t.N(e,n,Zt(r)?!!r.capture:!!r,i):Ze(t,e,n,!1,r,i)}function Ze(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Zt(i)?!!i.capture:!!i,a=Xe(t);if(a||(t[He]=a=new qe(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ye;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Re||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Je(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ke(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ke(t,e[o],n,r,i);return null}return n=en(n),t&&t[Ve]?t.O(e,n,Zt(r)?!!r.capture:!!r,i):Ze(t,e,n,!0,r,i)}function Qe(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Qe(t,e[o],n,r,i);else r=Zt(r)?!!r.capture:!!r,n=en(n),t&&t[Ve]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Be(o=t.g[e],n,r,i))&&(Ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Xe(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Be(e,n,r,i)),(n=-1<t?e[t]:null)&&We(n))}function We(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Ve])Ge(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Je(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xe(e))?(Ge(n,t),0==n.h&&(n.src=null,e[He]=null)):Ue(t)}}}function Je(t){return t in ze?ze[t]:ze[t]="on"+t}function Ye(t,e){if(t.ca)t=!0;else{e=new Le(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&We(t),t=n.call(r,e)}return t}function Xe(t){return(t=t[He])instanceof qe?t:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(t){return"function"==typeof t?t:(t[tn]||(t[tn]=function(e){return t.handleEvent(e)}),t[tn])}function nn(){ee.call(this),this.i=new qe(this),this.P=this,this.I=null}function rn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Pe(e,t);else if(e instanceof Pe)e.target=e.target||t;else{var i=e;ye(e=new Pe(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=on(s,r,!0,e)&&i}if(i=on(s=e.g=t,r,!0,e)&&i,i=on(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=on(s=e.g=n[o],r,!1,e)&&i}function on(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Ge(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}te(nn,ee),nn.prototype[Ve]=!0,nn.prototype.removeEventListener=function(t,e,n,r){Qe(this,t,e,n,r)},nn.prototype.M=function(){if(nn.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ue(n[r]);delete e.g[t],e.h--}}this.I=null},nn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},nn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var sn=Ht.JSON.stringify;function an(){var t=gn,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var un,cn=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=ln.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),ln=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new hn},function(t){return t.reset()}),hn=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function fn(t){Ht.setTimeout(function(){throw t},0)}function dn(t,e){un||function(){var t=Ht.Promise.resolve(void 0);un=function(){t.then(mn)}}(),pn||(un(),pn=!0),gn.add(t,e)}var pn=!1,gn=new cn;function mn(){for(var t;t=an();){try{t.h.call(t.g)}catch(n){fn(n)}var e=ln;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}pn=!1}function yn(t,e){nn.call(this),this.h=t||1,this.g=e||Ht,this.j=Yt(this.kb,this),this.l=Date.now()}function vn(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function bn(t,e,n){if("function"==typeof t)n&&(t=Yt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Yt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ht.setTimeout(t,e||0)}function wn(t){t.g=bn(function(){t.g=null,t.i&&(t.i=!1,wn(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}te(yn,nn),(qt=yn.prototype).da=!1,qt.S=null,qt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rn(this,"tick"),this.da&&(vn(this),this.start()))}},qt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qt.M=function(){yn.Z.M.call(this),vn(this),delete this.g};var _n=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:wn(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(ee);function En(t){ee.call(this),this.h=t,this.g={}}te(En,ee);var Sn=[];function Tn(t,e,n,r){Array.isArray(n)||(n&&(Sn[0]=n.toString()),n=Sn);for(var i=0;i<n.length;i++){var o=$e(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Cn(t){pe(t.g,function(t,e){this.g.hasOwnProperty(e)&&We(t)},t),t.g={}}function In(){this.g=!0}function An(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return sn(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}En.prototype.M=function(){En.Z.M.call(this),Cn(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},In.prototype.Aa=function(){this.g=!1},In.prototype.info=function(){};var xn={},kn=null;function On(){return kn=kn||new nn}function Dn(t){Pe.call(this,xn.Ma,t)}function Nn(t){var e=On();rn(e,new Dn(e,t))}function Rn(t,e){Pe.call(this,xn.STAT_EVENT,t),this.stat=e}function Pn(t){var e=On();rn(e,new Rn(e,t))}function Ln(t,e){Pe.call(this,xn.Na,t),this.size=e}function Fn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){t()},e)}xn.Ma="serverreachability",te(Dn,Pe),xn.STAT_EVENT="statevent",te(Rn,Pe),xn.Na="timingevent",te(Ln,Pe);var Vn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Mn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jn(){}function Un(){}jn.prototype.h=null;var qn,Gn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Bn(){Pe.call(this,"d")}function Hn(){Pe.call(this,"c")}function zn(){}function $n(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new En(this),this.P=Kn,this.W=new yn(t=Te?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}te(Bn,Pe),te(Hn,Pe),te(zn,jn),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},qn=new zn;var Kn=45e3,Qn={},Wn={};function Jn(t,e,n){t.K=1,t.v=wr(pr(e)),t.s=n,t.U=!0,Yn(t,null)}function Yn(t,e){t.F=Date.now(),nr(t),t.A=pr(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Rr(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Zn,t.g=Pi(t.l,n?e:null,!t.s),0<t.O&&(t.L=new _n(Yt(t.Ia,t,t.g),t.O)),Tn(t.V,t.g,"readystatechange",t.gb),e=t.H?ge(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Nn(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Xn(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function tr(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=er(t,n))==Wn){4==e&&(t.o=4,Pn(14),i=!1),An(t.j,t.m,null,"[Incomplete Response]");break}if(r==Qn){t.o=4,Pn(15),An(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}An(t.j,t.m,r,null),ar(t,r)}Xn(t)&&r!=Wn&&r!=Qn&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Pn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ii(e),e.L=!0,Pn(11))):(An(t.j,t.m,n,"[Invalid Chunked Response]"),sr(t),or(t))}function er(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Wn:(n=Number(e.substring(n,r)),isNaN(n)?Qn:(r+=1)+n>e.length?Wn:(e=e.substr(r,n),t.C=r+n,e))}function nr(t){t.Y=Date.now()+t.P,rr(t,t.P)}function rr(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Fn(Yt(t.eb,t),e)}function ir(t){t.B&&(Ht.clearTimeout(t.B),t.B=null)}function or(t){0==t.l.G||t.I||ki(t.l,t)}function sr(t){ir(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,vn(t.W),Cn(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ar(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Ur(n.i,t)))if(n.I=t.N,!t.J&&Ur(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;xi(n),yi(n)}Ci(n),Pn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fn(Yt(n.ab,n),6e3));if(1>=jr(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Di(n,11)}else if((t.J||n.g==t)&&xi(n),!ae(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(le(l,"spdy")||le(l,"quic")||le(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(qr(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,br(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Ri(r,r.H?r.la:null,r.W),d.J){Gr(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(ir(p),nr(p)),r.g=d}else Ti(r);0<n.l.length&&wi(n)}else"stop"!=o[0]&&"close"!=o[0]||Di(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Di(n,7):mi(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Nn(4)}catch(o){}}function ur(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($t(t)||"string"==typeof t)ie(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if($t(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if($t(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function cr(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof cr)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function lr(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];hr(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)hr(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function hr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(qt=$n.prototype).setTimeout=function(t){this.P=t},qt.gb=function(t){t=t.target;var e=this.L;e&&3==hi(t)?e.l():this.Ia(t)},qt.Ia=function(t){try{if(t==this.g)t:{var e=hi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Te||this.g&&(this.h.h||this.g.ga()||fi(this.g)))){this.I||4!=e||7==n||Nn(8==n||0>=r?3:2),ir(this);var i=this.g.ba();this.N=i;e:if(Xn(this)){var o=fi(this.g);t="";var s=o.length,a=4==hi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sr(this),or(this);var u="";break e}this.h.i=new Ht.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Pn(12),sr(this),or(this);break t}An(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ar(this,i)}this.U?(tr(this,e,u),Te&&this.i&&3==e&&(Tn(this.V,this.W,"tick",this.fb),this.W.start())):(An(this.j,this.m,u,null),ar(this,u)),4==e&&sr(this),this.i&&!this.I&&(4==e?ki(this.l,this):(this.i=!1,nr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Pn(12)):(this.o=0,Pn(13)),sr(this),or(this)}}}catch(e){}},qt.fb=function(){if(this.g){var t=hi(this.g),e=this.g.ga();this.C<e.length&&(ir(this),tr(this,t,e),this.i&&4!=t&&nr(this))}},qt.cancel=function(){this.I=!0,sr(this)},qt.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Nn(3),Pn(17)),sr(this),this.o=2,or(this)):rr(this,this.Y-t)},(qt=cr.prototype).R=function(){lr(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},qt.T=function(){return lr(this),this.g.concat()},qt.get=function(t,e){return hr(this.h,t)?this.h[t]:e},qt.set=function(t,e){hr(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},qt.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var fr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dr(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof dr){this.g=void 0!==e?e:t.g,gr(this,t.j),this.s=t.s,mr(this,t.i),yr(this,t.m),this.l=t.l,e=t.h;var n=new kr;n.i=e.i,e.g&&(n.g=new cr(e.g),n.h=e.h),vr(this,n),this.o=t.o}else t&&(n=String(t).match(fr))?(this.g=!!e,gr(this,n[1]||"",!0),this.s=_r(n[2]||""),mr(this,n[3]||"",!0),yr(this,n[4]),this.l=_r(n[5]||"",!0),vr(this,n[6]||"",!0),this.o=_r(n[7]||"")):(this.g=!!e,this.h=new kr(null,this.g))}function pr(t){return new dr(t)}function gr(t,e,n){t.j=n?_r(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mr(t,e,n){t.i=n?_r(e,!0):e}function yr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function vr(t,e,n){e instanceof kr?(t.h=e,function(t,e){e&&!t.j&&(Or(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Dr(this,e),Rr(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Er(e,Ar)),t.h=new kr(e,t.g))}function br(t,e,n){t.h.set(e,n)}function wr(t){return br(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _r(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Er(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Sr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}dr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Er(e,Tr,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Er(e,Tr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Er(n,"/"==n.charAt(0)?Ir:Cr,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Er(n,xr)),t.join("")};var Tr=/[#\/\?@]/g,Cr=/[#\?:]/g,Ir=/[#\?]/g,Ar=/[#\?@]/g,xr=/#/g;function kr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Or(t){t.g||(t.g=new cr,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Dr(t,e){Or(t),e=Pr(t,e),hr(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,hr((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&lr(t)))}function Nr(t,e){return Or(t),e=Pr(t,e),hr(t.g.h,e)}function Rr(t,e,n){Dr(t,e),0<n.length&&(t.i=null,t.g.set(Pr(t,e),se(n)),t.h+=n.length)}function Pr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(qt=kr.prototype).add=function(t,e){Or(this),this.i=null,t=Pr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},qt.forEach=function(t,e){Or(this),this.g.forEach(function(n,r){ie(n,function(n){t.call(e,n,r,this)},this)},this)},qt.T=function(){Or(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},qt.R=function(t){Or(this);var e=[];if("string"==typeof t)Nr(this,t)&&(e=oe(e,this.g.get(Pr(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=oe(e,t[n])}return e},qt.set=function(t,e){return Or(this),this.i=null,Nr(this,t=Pr(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},qt.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Lr=function(t,e){this.h=t,this.g=e};function Fr(t){this.l=t||Vr,t=Ht.PerformanceNavigationTiming?0<(t=Ht.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ea&&Ht.g.Ea()&&Ht.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vr=10;function Mr(t){return!!t.h||!!t.g&&t.g.size>=t.j}function jr(t){return t.h?1:t.g?t.g.size:0}function Ur(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function qr(t,e){t.g?t.g.add(e):t.h=e}function Gr(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Br(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Ut(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return se(t.i)}function Hr(){}function zr(){this.g=new Hr}function $r(t,e,n){var r=n||"";try{ur(t,function(t,n){var i=t;Zt(t)&&(i=sn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(eg){throw e.push(r+"type="+encodeURIComponent("_badmap")),eg}}function Zr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Kr(t){this.l=t.$b||null,this.j=t.ib||!1}function Qr(t,e){nn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Wr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fr.prototype.cancel=function(){var t,e;if(this.i=Br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Ut(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Hr.prototype.stringify=function(t){return Ht.JSON.stringify(t,void 0)},Hr.prototype.parse=function(t){return Ht.JSON.parse(t,void 0)},te(Kr,jn),Kr.prototype.g=function(){return new Qr(this.l,this.j)},Kr.prototype.i=function(t){return function(){return t}}({}),te(Qr,nn);var Wr=0;function Jr(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Yr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xr(t)}function Xr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(qt=Qr.prototype).open=function(t,e){if(this.readyState!=Wr)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xr(this)},qt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yr(this)),this.readyState=Wr},qt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ht.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jr(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},qt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yr(this):Xr(this),3==this.readyState&&Jr(this)}},qt.Ua=function(t){this.g&&(this.response=this.responseText=t,Yr(this))},qt.Ta=function(t){this.g&&(this.response=t,Yr(this))},qt.ha=function(){this.g&&Yr(this)},qt.setRequestHeader=function(t,e){this.v.append(t,e)},qt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},qt.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ti=Ht.JSON.parse;function ei(t){nn.call(this),this.headers=new cr,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ni,this.K=this.L=!1}te(ei,nn);var ni="",ri=/^https?$/i,ii=["POST","PUT"];function oi(t){return"content-type"==t.toLowerCase()}function si(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ai(t),ci(t)}function ai(t){t.D||(t.D=!0,rn(t,"complete"),rn(t,"error"))}function ui(t){if(t.h&&void 0!==Bt&&(!t.C[1]||4!=hi(t)||2!=t.ba()))if(t.v&&4==hi(t))bn(t.Fa,0,t);else if(rn(t,"readystatechange"),4==hi(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(fr)[1]||null;if(!o&&Ht.self&&Ht.self.location){var s=Ht.self.location.protocol;o=s.substr(0,s.length-1)}i=!ri.test(o?o.toLowerCase():"")}e=i}if(e)rn(t,"complete"),rn(t,"success");else{t.m=6;try{var a=2<hi(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",ai(t)}}finally{ci(t)}}}function ci(t,e){if(t.g){li(t);var n=t.g,r=t.C[0]?zt:null;t.g=null,t.C=null,e||rn(t,"ready");try{n.onreadystatechange=r}catch(eg){}}}function li(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ht.clearTimeout(t.A),t.A=null)}function hi(t){return t.g?t.g.readyState:0}function fi(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ni:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function di(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return pe(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):br(t,e,n))}function pi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gi(t){this.za=0,this.l=[],this.h=new In,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pi("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pi("baseRetryDelayMs",5e3,t),this.$a=pi("retryDelaySeedMs",1e4,t),this.Ya=pi("forwardChannelMaxRetries",2,t),this.ra=pi("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Fr(t&&t.concurrentRequestLimit),this.Ca=new zr,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function mi(t){if(vi(t),3==t.G){var e=t.V++,n=pr(t.F);br(n,"SID",t.J),br(n,"RID",e),br(n,"TYPE","terminate"),Ei(t,n),(e=new $n(t,t.h,e,void 0)).K=2,e.v=wr(pr(n)),n=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(n=Ht.navigator.sendBeacon(e.v.toString(),"")),!n&&Ht.Image&&((new Image).src=e.v,n=!0),n||(e.g=Pi(e.l,null),e.g.ea(e.v)),e.F=Date.now(),nr(e)}Ni(t)}function yi(t){t.g&&(Ii(t),t.g.cancel(),t.g=null)}function vi(t){yi(t),t.u&&(Ht.clearTimeout(t.u),t.u=null),xi(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ht.clearTimeout(t.m),t.m=null)}function bi(t,e){t.l.push(new Lr(t.Za++,e)),3==t.G&&wi(t)}function wi(t){Mr(t.i)||t.m||(t.m=!0,dn(t.Ha,t),t.C=0)}function _i(t,e){var n;n=e?e.m:t.V++;var r=pr(t.F);br(r,"SID",t.J),br(r,"RID",n),br(r,"AID",t.U),Ei(t,r),t.o&&t.s&&di(r,t.o,t.s),n=new $n(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Si(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),qr(t.i,n),Jn(n,r,e)}function Ei(t,e){t.j&&ur({},function(t,n){br(e,n,t)})}function Si(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Yt(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{$r(l,s,"req"+c+"_")}catch(po){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Ti(t){t.g||t.u||(t.Y=1,dn(t.Ga,t),t.A=0)}function Ci(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Fn(Yt(t.Ga,t),Oi(t,t.A)),t.A++,0))}function Ii(t){null!=t.B&&(Ht.clearTimeout(t.B),t.B=null)}function Ai(t){t.g=new $n(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=pr(t.oa);br(e,"RID","rpc"),br(e,"SID",t.J),br(e,"CI",t.N?"0":"1"),br(e,"AID",t.U),Ei(t,e),br(e,"TYPE","xmlhttp"),t.o&&t.s&&di(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=wr(pr(e)),n.s=null,n.U=!0,Yn(n,t)}function xi(t){null!=t.v&&(Ht.clearTimeout(t.v),t.v=null)}function ki(t,e){var n=null;if(t.g==e){xi(t),Ii(t),t.g=null;var r=2}else{if(!Ur(t.i,e))return;n=e.D,Gr(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;rn(r=On(),new Ln(r,n,e,i)),wi(t)}else Ti(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(jr(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Fn(Yt(t.Ha,t,e),Oi(t,t.C)),t.C++,0)))}(t,e)||2==r&&Ci(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Di(t,5);break;case 4:Di(t,10);break;case 3:Di(t,6);break;default:Di(t,2)}}function Oi(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Di(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Yt(t.jb,t);n||(n=new dr("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||gr(n,"https"),wr(n)),function(t,e){var n=new In;if(Ht.Image){var r=new Image;r.onload=Xt(Zr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xt(Zr,n,r,"TestLoadImage: error",!1,e),r.onabort=Xt(Zr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xt(Zr,n,r,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Pn(2);t.G=0,t.j&&t.j.va(e),Ni(t),vi(t)}function Ni(t){t.G=0,t.I=-1,t.j&&(0==Br(t.i).length&&0==t.l.length||(t.i.i.length=0,se(t.l),t.l.length=0),t.j.ua())}function Ri(t,e,n){var r=function(t){return t instanceof dr?pr(t):new dr(t,void 0)}(n);if(""!=r.i)e&&mr(r,e+"."+r.i),yr(r,r.m);else{var i=Ht.location;r=function(t,e,n,r){var i=new dr(null,void 0);return t&&gr(i,t),e&&mr(i,e),n&&yr(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&pe(t.aa,function(t,e){br(r,e,t)}),n=t.sa,(e=t.D)&&n&&br(r,e,n),br(r,"VER",t.ma),Ei(t,r),r}function Pi(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ei(n&&t.Ba&&!t.qa?new Kr({ib:!0}):t.qa)).L=t.H,e}function Li(){}function Fi(){if(Ee&&!(10<=Number(Ne)))throw Error("Environmental error: no available transport.")}function Vi(t,e){nn.call(this),this.g=new gi(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!ae(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ae(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ui(this)}function Mi(t){Bn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ji(){Hn.call(this),this.status=1}function Ui(t){this.g=t}(qt=ei.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qn.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:qn),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void si(this,o)}t=n||"";var i=new cr(this.headers);r&&ur(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=oi,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Ht.FormData&&t instanceof Ht.FormData,!(0<=re(ii,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{li(this),0<this.B&&((this.K=function(t){return Ee&&function(){return t=De,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=ce(String(be)).split("."),n=ce("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=he(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||he(0==o[2].length,0==s[2].length)||he(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=bn(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){si(this,o)}},qt.pa=function(){void 0!==Bt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))},qt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rn(this,"complete"),rn(this,"abort"),ci(this))},qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ci(this,!0)),ei.Z.M.call(this)},qt.Fa=function(){this.s||(this.F||this.v||this.l?ui(this):this.cb())},qt.cb=function(){ui(this)},qt.ba=function(){try{return 2<hi(this)?this.g.status:-1}catch(we){return-1}},qt.ga=function(){try{return this.g?this.g.responseText:""}catch(we){return""}},qt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ti(e)}},qt.Da=function(){return this.m},qt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qt=gi.prototype).ma=8,qt.G=1,qt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},qt.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new $n(this,this.h,t,void 0),n=this.s;if(this.P&&(n?ye(n=ge(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Si(this,e,r),br(i=pr(this.F),"RID",t),br(i,"CVER",22),this.D&&br(i,"X-HTTP-Session-Id",this.D),Ei(this,i),this.o&&n&&di(i,this.o,n),qr(this.i,e),this.Ra&&br(i,"TYPE","init"),this.ja?(br(i,"$req",r),br(i,"SID","null"),e.$=!0,Jn(e,i,null)):Jn(e,i,r),this.G=2}}else 3==this.G&&(t?_i(this,t):0==this.l.length||Mr(this.i)||_i(this))},qt.Ga=function(){if(this.u=null,Ai(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Fn(Yt(this.bb,this),t)}},qt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pn(10),yi(this),Ai(this))},qt.ab=function(){null!=this.v&&(this.v=null,yi(this),Ci(this),Pn(19))},qt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Pn(2)):(this.h.info("Failed to ping google.com"),Pn(1))},(qt=Li.prototype).xa=function(){},qt.wa=function(){},qt.va=function(){},qt.ua=function(){},qt.Oa=function(){},Fi.prototype.g=function(t,e){return new Vi(t,e)},te(Vi,nn),Vi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),dn(Yt(t.hb,t,e))),Pn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Ri(t,null,t.W),wi(t)},Vi.prototype.close=function(){mi(this.g)},Vi.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,bi(this.g,e)}else this.v?((e={}).__data__=sn(t),bi(this.g,e)):bi(this.g,t)},Vi.prototype.M=function(){this.g.j=null,delete this.j,mi(this.g),delete this.g,Vi.Z.M.call(this)},te(Mi,Bn),te(ji,Hn),te(Ui,Li),Ui.prototype.xa=function(){rn(this.g,"a")},Ui.prototype.wa=function(t){rn(this.g,new Mi(t))},Ui.prototype.va=function(t){rn(this.g,new ji(t))},Ui.prototype.ua=function(){rn(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,Vi.prototype.send=Vi.prototype.u,Vi.prototype.open=Vi.prototype.m,Vi.prototype.close=Vi.prototype.close,Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,Mn.COMPLETE="complete",Un.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",nn.prototype.listen=nn.prototype.N,ei.prototype.listenOnce=ei.prototype.O,ei.prototype.getLastError=ei.prototype.La,ei.prototype.getLastErrorCode=ei.prototype.Da,ei.prototype.getStatus=ei.prototype.ba,ei.prototype.getResponseJson=ei.prototype.Qa,ei.prototype.getResponseText=ei.prototype.ga,ei.prototype.send=ei.prototype.ea;var qi=Vn,Gi=Mn,Bi=xn,Hi=Kr,zi=Un,$i=ei,Zi=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Zi.o=-1;var Ki={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qi=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Ft.ZT)(e,t),e}(Error),Wi=new Mt.Yd("@firebase/firestore");function Ji(){return Wi.logLevel}function Yi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wi.logLevel<=Mt.in.DEBUG){var r=e.map(eo);Wi.debug.apply(Wi,(0,Ft.ev)(["Firestore (8.8.0): "+t],r))}}function Xi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wi.logLevel<=Mt.in.ERROR){var r=e.map(eo);Wi.error.apply(Wi,(0,Ft.ev)(["Firestore (8.8.0): "+t],r))}}function to(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wi.logLevel<=Mt.in.WARN){var r=e.map(eo);Wi.warn.apply(Wi,(0,Ft.ev)(["Firestore (8.8.0): "+t],r))}}function eo(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(eg){return t}}function no(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+t;throw Xi(e),new Error(e)}function ro(t,e){t||no()}function io(t,e){return t}function oo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var so=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=oo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ao(t,e){return t<e?-1:t>e?1:0}function uo(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function co(t){return t+"\0"}var lo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Qi(Ki.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Qi(Ki.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Qi(Ki.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qi(Ki.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ao(this.nanoseconds,t.nanoseconds):ao(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ho=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new lo(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function fo(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function po(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function go(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var mo=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&no(),void 0===n?n=t.length-e:n>t.length-e&&no(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),yo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(mo),vo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return vo.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Qi(Ki.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Qi(Ki.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Qi(Ki.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(mo),wo=function(){function t(t){this.fields=t,t.sort(bo.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return uo(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),_o=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ao(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();_o.EMPTY_BYTE_STRING=new _o("");var Eo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(t){if(ro(!!t),"string"==typeof t){var e=0,n=Eo.exec(t);if(ro(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:To(t.seconds),nanos:To(t.nanos)}}function To(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Co(t){return"string"==typeof t?_o.fromBase64String(t):_o.fromUint8Array(t)}function Io(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ao(t){var e=t.mapValue.fields.__previous_value__;return Io(e)?Ao(e):e}function xo(t){var e=So(t.mapValue.fields.__local_write_time__.timestampValue);return new lo(e.seconds,e.nanos)}function ko(t){return null==t}function Oo(t){return 0===t&&1/t==-1/0}function Do(t){return"number"==typeof t&&Number.isInteger(t)&&!Oo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var No=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(yo.fromString(e))},t.fromName=function(e){return new t(yo.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===yo.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return yo.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new yo(e.slice()))},t}();function Ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Io(t)?4:10:no()}function Po(t,e){var n=Ro(t);if(n!==Ro(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xo(t).isEqual(xo(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=So(t.timestampValue),r=So(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Co(t.bytesValue).isEqual(Co(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return To(t.geoPointValue.latitude)===To(e.geoPointValue.latitude)&&To(t.geoPointValue.longitude)===To(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return To(t.integerValue)===To(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=To(t.doubleValue),r=To(e.doubleValue);return n===r?Oo(n)===Oo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return uo(t.arrayValue.values||[],e.arrayValue.values||[],Po);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(fo(n)!==fo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Po(n[i],r[i])))return!1;return!0}(t,e);default:return no()}}function Lo(t,e){return void 0!==(t.values||[]).find(function(t){return Po(t,e)})}function Fo(t,e){var n=Ro(t),r=Ro(e);if(n!==r)return ao(n,r);switch(n){case 0:return 0;case 1:return ao(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=To(t.integerValue||t.doubleValue),r=To(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Vo(t.timestampValue,e.timestampValue);case 4:return Vo(xo(t),xo(e));case 5:return ao(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Co(t),r=Co(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ao(n[i],r[i]);if(0!==o)return o}return ao(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ao(To(t.latitude),To(e.latitude));return 0!==n?n:ao(To(t.longitude),To(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Fo(n[i],r[i]);if(o)return o}return ao(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ao(r[s],o[s]);if(0!==a)return a;var u=Fo(n[r[s]],i[o[s]]);if(0!==u)return u}return ao(r.length,o.length)}(t.mapValue,e.mapValue);default:throw no()}}function Vo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ao(t,e);var n=So(t),r=So(e),i=ao(n.seconds,r.seconds);return 0!==i?i:ao(n.nanos,r.nanos)}function Mo(t){return jo(t)}function jo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=So(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Co(t.bytesValue).toBase64():"referenceValue"in t?No.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=jo(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+jo(t.fields[o])}return e+"}"}(t.mapValue):no();var e}function Uo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function qo(t){return!!t&&"integerValue"in t}function Go(t){return!!t&&"arrayValue"in t}function Bo(t){return!!t&&"nullValue"in t}function Ho(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zo(t){return!!t&&"mapValue"in t}function $o(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return po(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=$o(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=$o(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Zo=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!zo(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$o(e)},t.prototype.setAll=function(t){var e=this,n=bo.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=$o(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());zo(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Po(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];zo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){po(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t($o(this.value))},t}();function Ko(t){var e=[];return po(t.fields,function(t,n){var r=new bo([t]);if(zo(n)){var i=Ko(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new wo(e)}var Qo=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ho.min(),Zo.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Zo.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Zo.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Zo.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Zo.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Wo=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Jo(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Wo(t,e,n,r,i,o,s)}function Yo(t){var e=io(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Mo(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ko(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hs(e.startAt)),e.endAt&&(n+="|ub:",n+=hs(e.endAt)),e.h=n}return e.h}function Xo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ds(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Po(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gs(t.startAt,e.startAt)&&gs(t.endAt,e.endAt)}function ts(t){return No.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var es=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Ft.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ns(t,n,r):"array-contains"===n?new ss(t,r):"in"===n?new as(t,r):"not-in"===n?new us(t,r):"array-contains-any"===n?new cs(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new rs(t,n):new is(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Fo(e,this.value)):null!==e&&Ro(this.value)===Ro(e)&&this.m(Fo(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return no()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ns=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=No.fromName(r.referenceValue),i}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=No.comparator(t.key,this.key);return this.m(e)},e}(es),rs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=os(0,n),r}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(es),is=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=os(0,n),r}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(es);function os(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return No.fromName(t.referenceValue)})}var ss=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Go(e)&&Lo(e.arrayValue,this.value)},e}(es),as=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Lo(this.value.arrayValue,e)},e}(es),us=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Lo(this.value.arrayValue,e)},e}(es),cs=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Go(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Lo(e.value.arrayValue,t)})},e}(es),ls=function(t,e){this.position=t,this.before=e};function hs(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Mo(t)}).join(",")}var fs=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ds(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ps(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?No.comparator(No.fromName(s.referenceValue),n.key):Fo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function gs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Po(t.position[n],e.position[n]))return!1;return!0}var ms=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function ys(t,e,n,r,i,o,s,a){return new ms(t,e,n,r,i,o,s,a)}function vs(t){return new ms(t)}function bs(t){return!ko(t.limit)&&"F"===t.limitType}function ws(t){return!ko(t.limit)&&"L"===t.limitType}function _s(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Es(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Ss(t){return null!==t.collectionGroup}function Ts(t){var e=io(t);if(null===e.p){e.p=[];var n=Es(e),r=_s(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new fs(n)),e.p.push(new fs(bo.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new fs(bo.keyField(),u))}}}return e.p}function Cs(t){var e=io(t);if(!e.T)if("F"===e.limitType)e.T=Jo(e.path,e.collectionGroup,Ts(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ts(e);r<i.length;r++){var o=i[r];n.push(new fs(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ls(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ls(e.startAt.position,!e.startAt.before):null;e.T=Jo(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Is(t,e,n){return new ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function As(t,e){return Xo(Cs(t),Cs(e))&&t.limitType===e.limitType}function xs(t){return Yo(Cs(t))+"|lt:"+t.limitType}function ks(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Mo(e.value);var e}).join(", ")+"]"),ko(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+hs(t.startAt)),t.endAt&&(e+=", endAt: "+hs(t.endAt)),"Target("+e+")"}(Cs(t))+"; limitType="+t.limitType+")"}function Os(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):No.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ps(t.startAt,Ts(t),e)||t.endAt&&ps(t.endAt,Ts(t),e))}(t,e)}function Ds(t){return function(e,n){for(var r=!1,i=0,o=Ts(t);i<o.length;i++){var s=o[i],a=Ns(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ns(t,e,n){var r=t.field.isKeyField()?No.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Fo(r,i):no()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return no()}}function Rs(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oo(e)?"-0":e}}function Ps(t){return{integerValue:""+t}}function Ls(t,e){return Do(e)?Ps(e):Rs(t,e)}var Fs=function(){this._=void 0};function Vs(t,e,n){return t instanceof Us?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof qs?Gs(t,e):t instanceof Bs?Hs(t,e):function(t,e){var n=js(t,e),r=$s(n)+$s(t.A);return qo(n)&&qo(t.A)?Ps(r):Rs(t.R,r)}(t,e)}function Ms(t,e,n){return t instanceof qs?Gs(t,e):t instanceof Bs?Hs(t,e):n}function js(t,e){return t instanceof zs?qo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e}(Fs),qs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ft.ZT)(e,t),e}(Fs);function Gs(t,e){for(var n=Zs(e),r=function(t){n.some(function(e){return Po(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ft.ZT)(e,t),e}(Fs);function Hs(t,e){for(var n=Zs(e),r=function(t){n=n.filter(function(e){return!Po(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var zs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Ft.ZT)(e,t),e}(Fs);function $s(t){return To(t.integerValue||t.doubleValue)}function Zs(t){return Go(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ks=function(t,e){this.field=t,this.transform=e},Qs=function(t,e){this.version=t,this.transformResults=e},Ws=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Js(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ys=function(){};function Xs(t,e,n){t instanceof ia?function(t,e,n){var r=t.value.clone(),i=aa(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof oa?function(t,e,n){if(Js(t.precondition,e)){var r=aa(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(sa(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ta(t,e,n){t instanceof ia?function(t,e,n){if(Js(t.precondition,e)){var r=t.value.clone(),i=ua(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ra(e),r).setHasLocalMutations()}}(t,e,n):t instanceof oa?function(t,e,n){if(Js(t.precondition,e)){var r=ua(t.fieldTransforms,n,e),i=e.data;i.setAll(sa(t)),i.setAll(r),e.convertToFoundDocument(ra(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Js(t.precondition,e)&&e.convertToNoDocument(ho.min())}(t,e)}function ea(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=js(o.transform,s||null);null!=a&&(null==n&&(n=Zo.empty()),n.set(o.field,a))}return n||null}function na(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&uo(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof qs&&e instanceof qs||t instanceof Bs&&e instanceof Bs?uo(t.elements,e.elements,Po):t instanceof zs&&e instanceof zs?Po(t.A,e.A):t instanceof Us&&e instanceof Us}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ra(t){return t.isFoundDocument()?t.version:ho.min()}var ia=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Ft.ZT)(e,t),e}(Ys),oa=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Ft.ZT)(e,t),e}(Ys);function sa(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function aa(t,e,n){var r=new Map;ro(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Ms(s,a,n[i]))}return r}function ua(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Vs(a,u,e))}return r}var ca,la,ha=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Ft.ZT)(e,t),e}(Ys),fa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Ft.ZT)(e,t),e}(Ys),da=function(t){this.count=t};function pa(t){switch(t){case Ki.OK:return no();case Ki.CANCELLED:case Ki.UNKNOWN:case Ki.DEADLINE_EXCEEDED:case Ki.RESOURCE_EXHAUSTED:case Ki.INTERNAL:case Ki.UNAVAILABLE:case Ki.UNAUTHENTICATED:return!1;case Ki.INVALID_ARGUMENT:case Ki.NOT_FOUND:case Ki.ALREADY_EXISTS:case Ki.PERMISSION_DENIED:case Ki.FAILED_PRECONDITION:case Ki.ABORTED:case Ki.OUT_OF_RANGE:case Ki.UNIMPLEMENTED:case Ki.DATA_LOSS:return!0;default:return no()}}function ga(t){if(void 0===t)return Xi("GRPC error has no .code"),Ki.UNKNOWN;switch(t){case ca.OK:return Ki.OK;case ca.CANCELLED:return Ki.CANCELLED;case ca.UNKNOWN:return Ki.UNKNOWN;case ca.DEADLINE_EXCEEDED:return Ki.DEADLINE_EXCEEDED;case ca.RESOURCE_EXHAUSTED:return Ki.RESOURCE_EXHAUSTED;case ca.INTERNAL:return Ki.INTERNAL;case ca.UNAVAILABLE:return Ki.UNAVAILABLE;case ca.UNAUTHENTICATED:return Ki.UNAUTHENTICATED;case ca.INVALID_ARGUMENT:return Ki.INVALID_ARGUMENT;case ca.NOT_FOUND:return Ki.NOT_FOUND;case ca.ALREADY_EXISTS:return Ki.ALREADY_EXISTS;case ca.PERMISSION_DENIED:return Ki.PERMISSION_DENIED;case ca.FAILED_PRECONDITION:return Ki.FAILED_PRECONDITION;case ca.ABORTED:return Ki.ABORTED;case ca.OUT_OF_RANGE:return Ki.OUT_OF_RANGE;case ca.UNIMPLEMENTED:return Ki.UNIMPLEMENTED;case ca.DATA_LOSS:return Ki.DATA_LOSS;default:return no()}}(la=ca||(ca={}))[la.OK=0]="OK",la[la.CANCELLED=1]="CANCELLED",la[la.UNKNOWN=2]="UNKNOWN",la[la.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",la[la.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",la[la.NOT_FOUND=5]="NOT_FOUND",la[la.ALREADY_EXISTS=6]="ALREADY_EXISTS",la[la.PERMISSION_DENIED=7]="PERMISSION_DENIED",la[la.UNAUTHENTICATED=16]="UNAUTHENTICATED",la[la.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",la[la.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",la[la.ABORTED=10]="ABORTED",la[la.OUT_OF_RANGE=11]="OUT_OF_RANGE",la[la.UNIMPLEMENTED=12]="UNIMPLEMENTED",la[la.INTERNAL=13]="INTERNAL",la[la.UNAVAILABLE=14]="UNAVAILABLE",la[la.DATA_LOSS=15]="DATA_LOSS";var ma=function(){function t(t,e){this.comparator=t,this.root=e||va.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,va.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,va.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ya(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ya(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ya(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ya(this.root,t,this.comparator,!0)},t}(),ya=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),va=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw no();if(this.right.isRed())throw no();var t=this.left.check();if(t!==this.right.check())throw no();return t+(this.isRed()?0:1)},t}();va.EMPTY=null,va.RED=!0,va.BLACK=!1,va.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw no()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw no()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw no()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw no()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw no()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new va(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var ba=function(){function t(t){this.comparator=t,this.data=new ma(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new wa(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new wa(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),wa=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),_a=new ma(No.comparator);function Ea(){return _a}var Sa=new ma(No.comparator);function Ta(){return Sa}var Ca=new ma(No.comparator);function Ia(){return Ca}var Aa=new ba(No.comparator);function xa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Aa,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ka=new ba(ao);function Oa(){return ka}var Da=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Na.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ho.min(),r,Oa(),Ea(),xa())},t}(),Na=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_o.EMPTY_BYTE_STRING,n,xa(),xa(),xa())},t}(),Ra=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Pa=function(t,e){this.targetId=t,this.V=e},La=function(t,e,n,r){void 0===n&&(n=_o.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Fa=function(){function t(){this.S=0,this.D=ja(),this.C=_o.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=xa(),e=xa(),n=xa();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:no()}}),new Na(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=ja()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Va=function(){function t(t){this.W=t,this.G=new Map,this.H=Ea(),this.J=Ma(),this.Y=new ba(ao)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:no()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ts(i))if(0===n){var o=new No(i.path);this.tt(e,o,Qo.newNoDocument(o,ho.min()))}else ro(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&ts(o.target)){var s=new No(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Qo.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=xa();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Da(t,n,this.Y,this.H,r);return this.H=Ea(),this.J=Ma(),this.Y=new ba(ao),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Fa,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ba(ao),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Yi("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Fa),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Ma(){return new ma(No.comparator)}function ja(){return new ma(No.comparator)}var Ua={asc:"ASCENDING",desc:"DESCENDING"},qa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ga=function(t,e){this.databaseId=t,this.I=e};function Ba(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ha(t,e){return t.I?e.toBase64():e.toUint8Array()}function za(t,e){return Ba(t,e.toTimestamp())}function $a(t){return ro(!!t),ho.fromTimestamp(function(t){var e=So(t);return new lo(e.seconds,e.nanos)}(t))}function Za(t,e){return function(t){return new yo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ka(t){var e=yo.fromString(t);return ro(vu(e)),e}function Qa(t,e){return Za(t.databaseId,e.path)}function Wa(t,e){var n=Ka(e);if(n.get(1)!==t.databaseId.projectId)throw new Qi(Ki.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qi(Ki.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new No(tu(n))}function Ja(t,e){return Za(t.databaseId,e)}function Ya(t){var e=Ka(t);return 4===e.length?yo.emptyPath():tu(e)}function Xa(t){return new yo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tu(t){return ro(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function eu(t,e,n){return{name:Qa(t,e),fields:n.value.mapValue.fields}}function nu(t,e,n){var r=Wa(t,e.name),i=$a(e.updateTime),o=new Zo({mapValue:{fields:e.fields}}),s=Qo.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ru(t,e){var n;if(e instanceof ia)n={update:eu(t,e.key,e.value)};else if(e instanceof ha)n={delete:Qa(t,e.key)};else if(e instanceof oa)n={update:eu(t,e.key,e.data),updateMask:yu(e.fieldMask)};else{if(!(e instanceof fa))return no();n={verify:Qa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Us)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qs)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bs)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zs)return{fieldPath:e.field.canonicalString(),increment:n.A};throw no()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:za(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:no()}(t,e.precondition)),n}function iu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ws.updateTime($a(t.updateTime)):void 0!==t.exists?Ws.exists(t.exists):Ws.none()}(e.currentDocument):Ws.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ro("REQUEST_TIME"===e.setToServerValue),n=new Us):"appendMissingElements"in e?n=new qs(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Bs(e.removeAllFromArray.values||[]):"increment"in e?n=new zs(t,e.increment):no();var r=bo.fromServerFormat(e.fieldPath);return new Ks(r,n)}(t,e)}):[];if(e.update){var i=Wa(t,e.update.name),o=new Zo({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new wo((t.fieldPaths||[]).map(function(t){return bo.fromServerFormat(t)}))}(e.updateMask);return new oa(i,o,s,n,r)}return new ia(i,o,n,r)}if(e.delete){var a=Wa(t,e.delete);return new ha(a,n)}if(e.verify){var u=Wa(t,e.verify);return new fa(u,n)}return no()}function ou(t,e){return{documents:[Ja(t,e.path)]}}function su(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ja(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ja(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ho(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NAN"}};if(Bo(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ho(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NOT_NAN"}};if(Bo(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(t.field),op:fu(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:du(t.field),direction:hu(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||ko(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=cu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=cu(e.endAt)),n}function au(t){var e=Ya(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ro(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=uu(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new fs(pu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ko(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=lu(n.startAt));var l=null;return n.endAt&&(l=lu(n.endAt)),ys(e,i,a,s,u,"F",c,l)}function uu(t){return t?void 0!==t.unaryFilter?[mu(t)]:void 0!==t.fieldFilter?[gu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return uu(t)}).reduce(function(t,e){return t.concat(e)}):no():[]}function cu(t){return{before:t.before,values:t.position}}function lu(t){return new ls(t.values||[],!!t.before)}function hu(t){return Ua[t]}function fu(t){return qa[t]}function du(t){return{fieldPath:t.canonicalString()}}function pu(t){return bo.fromServerFormat(t.fieldPath)}function gu(t){return es.create(pu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return no()}}(t.fieldFilter.op),t.fieldFilter.value)}function mu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=pu(t.unaryFilter.field);return es.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=pu(t.unaryFilter.field);return es.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pu(t.unaryFilter.field);return es.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pu(t.unaryFilter.field);return es.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return no()}}function yu(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function vu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function bu(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_u(e)),e=wu(t.get(n),e);return _u(e)}function wu(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function _u(t){return t+"\x01\x01"}function Eu(t){var e=t.length;if(ro(e>=2),2===e)return ro("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),yo.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&no(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:no()}o=s+2}return new yo(r)}var Su=function(t,e){this.seconds=t,this.nanoseconds=e},Tu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Tu.store="owner",Tu.key="owner";var Cu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Cu.store="mutationQueues",Cu.keyPath="userId";var Iu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Iu.store="mutations",Iu.keyPath="batchId",Iu.userMutationsIndex="userMutationsIndex",Iu.userMutationsKeyPath=["userId","batchId"];var Au=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bu(e)]},t.key=function(t,e,n){return[t,bu(e),n]},t}();Au.store="documentMutations",Au.PLACEHOLDER=new Au;var xu=function(t,e){this.path=t,this.readTime=e},ku=function(t,e){this.path=t,this.version=e},Ou=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ou.store="remoteDocuments",Ou.readTimeIndex="readTimeIndex",Ou.readTimeIndexPath="readTime",Ou.collectionReadTimeIndex="collectionReadTimeIndex",Ou.collectionReadTimeIndexPath=["parentPath","readTime"];var Du=function(t){this.byteSize=t};Du.store="remoteDocumentGlobal",Du.key="remoteDocumentGlobalKey";var Nu=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Nu.store="targets",Nu.keyPath="targetId",Nu.queryTargetsIndexName="queryTargetsIndex",Nu.queryTargetsKeyPath=["canonicalId","targetId"];var Ru=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ru.store="targetDocuments",Ru.keyPath=["targetId","path"],Ru.documentTargetsIndex="documentTargetsIndex",Ru.documentTargetsKeyPath=["path","targetId"];var Pu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Pu.key="targetGlobalKey",Pu.store="targetGlobal";var Lu=function(t,e){this.collectionId=t,this.parent=e};Lu.store="collectionParents",Lu.keyPath=["collectionId","parent"];var Fu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Fu.store="clientMetadata",Fu.keyPath="clientId";var Vu=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Vu.store="bundles",Vu.keyPath="bundleId";var Mu=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Mu.store="namedQueries",Mu.keyPath="name";var ju=(0,Ft.ev)((0,Ft.ev)([],(0,Ft.ev)((0,Ft.ev)([],(0,Ft.ev)((0,Ft.ev)([],(0,Ft.ev)((0,Ft.ev)([],[Cu.store,Iu.store,Au.store,Ou.store,Nu.store,Tu.store,Pu.store,Ru.store]),[Fu.store])),[Du.store])),[Lu.store])),[Vu.store,Mu.store]),Uu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qu=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Gu=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Bu=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&no(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Hu=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Gu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Zu(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Yu(e.target.error);n.ft.reject(new Zu(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Zu(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Yi("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Qu(e)},t}(),zu=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,Vt.z$)())&&Xi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Yi("SimpleDb","Removing database:",t),Wu(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Vt.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Yi("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Zu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Qi(Ki.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Zu(t,n))},i.onupgradeneeded=function(t){Yi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Yi("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,Ft.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Hu.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Bu.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Yi("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),$u=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Wu(this.Pt.delete())},t}(),Zu=function(t){function e(e,n){var r=this;return(r=t.call(this,Ki.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Ft.ZT)(e,t),e}(Qi);function Ku(t){return"IndexedDbTransactionError"===t.name}var Qu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Yi("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Yi("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Wu(n)},t.prototype.add=function(t){return Yi("SimpleDb","ADD",this.store.name,t,t),Wu(this.store.add(t))},t.prototype.get=function(t){var e=this;return Wu(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Yi("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Yi("SimpleDb","DELETE",this.store.name,t),Wu(this.store.delete(t))},t.prototype.count=function(){return Yi("SimpleDb","COUNT",this.store.name),Wu(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Yi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Bu(function(n,r){e.onerror=function(t){var e=Yu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Bu(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new $u(i),s=e(i.primaryKey,i.value,o);if(s instanceof Bu){var a=s.catch(function(t){return o.done(),Bu.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Bu.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Wu(t){return new Bu(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Yu(t.target.error);n(e)}})}var Ju=!1;function Yu(t){var e=zu._t((0,Vt.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Qi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ju||(Ju=!0,setTimeout(function(){throw r},0)),r}}return t}var Xu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Ft.ZT)(e,t),e}(qu);function tc(t,e){var n=io(t);return zu.It(n.Mt,e)}var ec=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Xs(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ta(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&ta(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ho.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},xa())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,function(t,e){return na(t,e)})&&uo(this.baseMutations,t.baseMutations,function(t,e){return na(t,e)})},t}(),nc=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ro(e.mutations.length===r.length);for(var i=Ia(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),rc=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ho.min()),void 0===o&&(o=ho.min()),void 0===s&&(s=_o.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ic=function(t){this.Lt=t};function oc(t,e){if(e.document)return nu(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=No.fromSegments(e.noDocument.path),r=lc(e.noDocument.readTime),i=Qo.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=No.fromSegments(e.unknownDocument.path);return r=lc(e.unknownDocument.version),Qo.newUnknownDocument(o,r)}return no()}function sc(t,e,n){var r=ac(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Qa(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Ba(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Ou(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=cc(e.version);return s=e.hasCommittedMutations,new Ou(null,new xu(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=cc(e.version);return new Ou(new ku(c,l),null,null,!0,r,i)}return no()}function ac(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function uc(t){var e=new lo(t[0],t[1]);return ho.fromTimestamp(e)}function cc(t){var e=t.toTimestamp();return new Su(e.seconds,e.nanoseconds)}function lc(t){var e=new lo(t.seconds,t.nanoseconds);return ho.fromTimestamp(e)}function hc(t,e){for(var n=(e.baseMutations||[]).map(function(e){return iu(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return iu(t.Lt,e)}),o=lo.fromMillis(e.localWriteTimeMs);return new ec(e.batchId,o,n,i)}function fc(t){var e,n,r=lc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?lc(t.lastLimboFreeSnapshotVersion):ho.min();return void 0!==t.query.documents?(ro(1===(n=t.query).documents.length),e=Cs(vs(Ya(n.documents[0])))):e=function(t){return Cs(au(t))}(t.query),new rc(e,t.targetId,0,t.lastListenSequenceNumber,r,i,_o.fromBase64String(t.resumeToken))}function dc(t,e){var n,r=cc(e.snapshotVersion),i=cc(e.lastLimboFreeSnapshotVersion);n=ts(e.target)?ou(t.Lt,e.target):su(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Nu(e.targetId,Yo(e.target),r,o,e.sequenceNumber,i,n)}function pc(t){var e=au({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Is(e,e.limit,"L"):e}var gc=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return mc(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:lc(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return mc(t).put({bundleId:(n=e).id,createTime:cc($a(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return yc(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:pc(e.bundledQuery),readTime:lc(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return yc(t).put(function(t){return{name:t.name,readTime:cc($a(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function mc(t){return tc(t,Vu.store)}function yc(t){return tc(t,Mu.store)}var vc=function(){function t(){this.Bt=new bc}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Bu.resolve()},t.prototype.getCollectionParents=function(t,e){return Bu.resolve(this.Bt.getEntries(e))},t}(),bc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ba(yo.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ba(yo.comparator)).toArray()},t}(),wc=function(){function t(){this.qt=new bc}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:bu(i)};return _c(t).put(o)}return Bu.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[co(e),""],!1,!0);return _c(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Eu(o.parent))}return n})},t}();function _c(t){return tc(t,Lu.store)}var Ec={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sc=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Tc(t,e,n){var r=t.store(Iu.store),i=t.store(Au.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){ro(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Au.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Bu.waitFor(o).next(function(){return c})}function Cc(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw no();e=t.noDocument}return JSON.stringify(e).length}Sc.DEFAULT_COLLECTION_PERCENTILE=10,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sc.DEFAULT=new Sc(41943040,Sc.DEFAULT_COLLECTION_PERCENTILE,Sc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sc.DISABLED=new Sc(-1,0,0);var Ic=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return ro(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xc(t).$t({index:Iu.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=kc(t),s=xc(t);return s.add({}).next(function(a){ro("number"==typeof a);for(var u=new ec(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ru(t.Lt,e)}),i=n.mutations.map(function(e){return ru(t.Lt,e)});return new Iu(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new ba(function(t,e){return ao(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Au.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Au.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Bu.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return xc(t).get(e).next(function(t){return t?(ro(t.userId===n.userId),hc(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Bu.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return xc(t).$t({index:Iu.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ro(e.batchId>=r),o=hc(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xc(t).$t({index:Iu.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xc(t).Nt(Iu.userMutationsIndex,n).next(function(t){return t.map(function(t){return hc(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Au.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return kc(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=Eu(r[1]);if(a===n.userId&&e.path.isEqual(c))return xc(t).get(u).next(function(t){if(!t)throw no();ro(t.userId===n.userId),o.push(hc(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ba(ao),i=[];return e.forEach(function(e){var o=Au.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=kc(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=Eu(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Bu.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Au.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ba(ao);return kc(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=Eu(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(xc(t).get(e).next(function(t){if(null===t)throw no();ro(t.userId===n.userId),r.push(hc(n.R,t))}))}),Bu.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Tc(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Bu.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Bu.resolve();var r=IDBKeyRange.lowerBound(Au.prefixForUser(e.userId)),i=[];return kc(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Eu(t[1]);i.push(o)}else r.done()}).next(function(){ro(0===i.length)})})},t.prototype.containsKey=function(t,e){return Ac(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Oc(t).get(this.userId).next(function(t){return t||new Cu(e.userId,-1,"")})},t}();function Ac(t,e,n){var r=Au.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return kc(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function xc(t){return tc(t,Iu.store)}function kc(t){return tc(t,Au.store)}function Oc(t){return tc(t,Cu.store)}var Dc=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Nc=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Dc(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return ho.fromTimestamp(new lo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Rc(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return ro(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Rc(t).$t(function(s,a){var u=fc(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Bu.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Rc(t).$t(function(t,n){var r=fc(n);e(r)})},t.prototype.Xt=function(t){return Pc(t).get(Pu.key).next(function(t){return ro(null!==t),t})},t.prototype.Zt=function(t,e){return Pc(t).put(Pu.key,e)},t.prototype.te=function(t,e){return Rc(t).put(dc(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Yo(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rc(t).$t({range:r,index:Nu.queryTargetsIndexName},function(t,n,r){var o=fc(n);Xo(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Lc(t);return e.forEach(function(e){var s=bu(e.path);i.push(o.put(new Ru(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Bu.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Lc(t);return Bu.forEach(e,function(e){var o=bu(e.path);return Bu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Lc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lc(t),i=xa();return r.$t({range:n,kt:!0},function(t,e,n){var r=Eu(t[1]),o=new No(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=bu(e.path),r=IDBKeyRange.bound([n],[co(n)],!1,!0),i=0;return Lc(t).$t({index:Ru.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Rc(t).get(e).next(function(t){return t?fc(t):null})},t}();function Rc(t){return tc(t,Nu.store)}function Pc(t){return tc(t,Pu.store)}function Lc(t){return tc(t,Ru.store)}function Fc(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){if(t.code!==Ki.FAILED_PRECONDITION||t.message!==Uu)throw t;return Yi("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Vc(t,e){var n=t[1],r=e[1],i=ao(t[0],e[0]);return 0===i?ao(n,r):i}var Mc=function(){function t(t){this.ne=t,this.buffer=new ba(Vc),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Vc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),jc=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Yi("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ku(e=n.sent())?(Yi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Fc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Uc=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Bu.resolve(Zi.o);var r=new Mc(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Yi("LruGarbageCollector","Garbage collection skipped; disabled"),Bu.resolve(Ec)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Yi("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ec):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Yi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Ji()<=Mt.in.DEBUG&&Yi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Bu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),qc=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Uc(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Gc(t,n)},t.prototype.removeReference=function(t,e,n){return Gc(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Gc(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Oc(t).Ot(function(r){return Ac(t,r,e).next(function(t){return t&&(n=!0),Bu.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Lc(t).delete([0,bu(s.path)])})});i.push(u)}}).next(function(){return Bu.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Gc(t,e)},t.prototype.we=function(t,e){var n,r=Lc(t),i=Zi.o;return r.$t({index:Ru.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Zi.o&&e(new No(Eu(n)),i),i=s,n=o):i=Zi.o}).next(function(){i!==Zi.o&&e(new No(Eu(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Gc(t,e){return Lc(t).put(function(t,e){return new Ru(0,bu(t.path),e)}(e,t.currentSequenceNumber))}var Bc=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){po(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return go(this.inner)},t}(),Hc=function(){function t(){this.changes=new Bc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ho.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Qo.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Bu.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),zc=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Kc(t).put(Qc(e),n)},t.prototype.removeEntry=function(t,e){var n=Kc(t),r=Qc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Kc(t).get(Qc(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Kc(t).get(Qc(e)).next(function(t){return{document:n.ye(e,t),size:Cc(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ea();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ea(),i=new ma(No.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Cc(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Bu.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Kc(t).$t({range:r},function(t,e,r){for(var s=No.fromSegments(t);o&&No.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ea(),o=e.path.length+1,s={};if(n.isEqual(ho.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=ac(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ou.collectionReadTimeIndex}return Kc(t).$t(s,function(t,n,s){if(t.length===o){var a=oc(r.R,n);e.path.isPrefixOf(a.key.path)?Os(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new $c(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Zc(t).get(Du.key).next(function(t){return ro(!!t),t})},t.prototype.me=function(t,e){return Zc(t).put(Du.key,e)},t.prototype.ye=function(t,e){if(e){var n=oc(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ho.min()))return n}return Qo.newInvalidDocument(t)},t}(),$c=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Bc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Ft.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ba(function(t,e){return ao(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=sc(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Cc(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=sc(e.Ie.R,Qo.newNoDocument(o,ho.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Bu.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Hc);function Zc(t){return tc(t,Du.store)}function Kc(t){return tc(t,Ou.store)}function Qc(t){return t.path.toArray()}var Wc=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ro(n<r&&n>=0&&r<=11);var o=new Hu("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Tu.store)}(t),function(t){t.createObjectStore(Cu.store,{keyPath:Cu.keyPath}),t.createObjectStore(Iu.store,{keyPath:Iu.keyPath,autoIncrement:!0}).createIndex(Iu.userMutationsIndex,Iu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Au.store)}(t),Jc(t),function(t){t.createObjectStore(Ou.store)}(t));var s=Bu.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ru.store),t.deleteObjectStore(Nu.store),t.deleteObjectStore(Pu.store)}(t),Jc(t)),s=s.next(function(){return function(t){var e=t.store(Pu.store),n=new Pu(0,0,ho.min().toTimestamp(),0);return e.put(Pu.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Iu.store).Nt().next(function(n){t.deleteObjectStore(Iu.store),t.createObjectStore(Iu.store,{keyPath:Iu.keyPath,autoIncrement:!0}).createIndex(Iu.userMutationsIndex,Iu.userMutationsKeyPath,{unique:!0});var r=e.store(Iu.store),i=n.map(function(t){return r.put(t)});return Bu.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Fu.store,{keyPath:Fu.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Du.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ou.store);e.createIndex(Ou.readTimeIndex,Ou.readTimeIndexPath,{unique:!1}),e.createIndex(Ou.collectionReadTimeIndex,Ou.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Vu.store,{keyPath:Vu.keyPath})}(t),function(t){t.createObjectStore(Mu.store,{keyPath:Mu.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Ou.store).$t(function(t,n){e+=Cc(n)}).next(function(){var n=new Du(e);return t.store(Du.store).put(Du.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Cu.store),r=t.store(Iu.store);return n.Nt().next(function(n){return Bu.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Iu.userMutationsIndex,i).next(function(r){return Bu.forEach(r,function(r){ro(r.userId===n.userId);var i=hc(e.R,r);return Tc(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Ru.store),n=t.store(Ou.store);return t.store(Pu.store).get(Pu.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new yo(n),s=function(t){return[0,bu(t)]}(o);r.push(e.get(s).next(function(n){return n?Bu.resolve():function(n){return e.put(new Ru(0,bu(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Bu.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Lu.store,{keyPath:Lu.keyPath});var n=e.store(Lu.store),r=new bc,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:bu(i)})}};return e.store(Ou.store).$t({kt:!0},function(t,e){var n=new yo(t);return i(n.popLast())}).next(function(){return e.store(Au.store).$t({kt:!0},function(t,e){var n=Eu(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Nu.store);return n.$t(function(t,r){var i=fc(r),o=dc(e.R,i);return n.put(o)})},t}();function Jc(t){t.createObjectStore(Ru.store,{keyPath:Ru.keyPath}).createIndex(Ru.documentTargetsIndex,Ru.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Nu.store,{keyPath:Nu.keyPath}).createIndex(Nu.queryTargetsIndexName,Nu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Pu.store)}var Yc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xc=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Qi(Ki.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qc(this,i),this.Le=n+"main",this.R=new ic(u),this.Be=new zu(this.Le,11,new Wc(this.R)),this.qe=new Nc(this.referenceDelegate,this.R),this.Ut=new wc,this.Ue=function(t,e){return new zc(t,e)}(this.R,this.Ut),this.Ke=new gc,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Xi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Qi(Ki.FAILED_PRECONDITION,Yc);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Zi(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return el(e).put(new Fu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ku(e))return Yi("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Yi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return tl(t).get(Tu.key).next(function(t){return Bu.resolve(e.tn(t))})},t.prototype.en=function(t){return el(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=tc(t,Fu.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Bu.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Bu.resolve(!0):tl(t).get(Tu.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Qi(Ki.FAILED_PRECONDITION,Yc);return!1}}return!(!e.networkEnabled||!e.inForeground)||el(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Yi("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t=this;return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Tu.store,Fu.store],function(e){var n=new Xu(e,Zi.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return el(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ic.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Yi("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ju,function(o){return r=new Xu(o,i.Ne?i.Ne.next():Zi.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Xi("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Qi(Ki.FAILED_PRECONDITION,Uu);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return tl(t).get(Tu.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Qi(Ki.FAILED_PRECONDITION,Yc)})},t.prototype.Ze=function(t){var e=new Tu(this.clientId,this.allowTabSynchronization,Date.now());return tl(t).put(Tu.key,e)},t.yt=function(){return zu.yt()},t.prototype.Xe=function(t){var e=this,n=tl(t);return n.get(Tu.key).next(function(t){return e.tn(t)?(Yi("IndexedDbPersistence","Releasing primary lease."),n.delete(Tu.key)):Bu.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Xi("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,Vt.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Yi("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Xi("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Xi("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function tl(t){return tc(t,Tu.store)}function el(t){return tc(t,Fu.store)}function nl(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var rl=function(t,e){this.progress=t,this.wn=e},il=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return No.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Ss(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new No(e)).next(function(t){var e=Ta();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Ta();return this.Ut.getCollectionParents(t,i).next(function(s){return Bu.forEach(s,function(s){var a=function(t,e){return new ms(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Qo.newInvalidDocument(c),r=r.insert(c,l)),ta(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Os(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=xa(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof oa&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),ol=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=xa(),i=xa(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),sl=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ho.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(bs(e)||ws(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Ji()<=Mt.in.DEBUG&&Yi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ks(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new ba(Ds(t));return e.forEach(function(e,r){Os(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ji()<=Mt.in.DEBUG&&Yi("QueryEngine","Using full collection scan to execute query:",ks(e)),this.Sn.getDocumentsMatchingQuery(t,e,ho.min())},t}(),al=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ma(ao),this.kn=new Bc(function(t){return Yo(t)},Xo),this.$n=ho.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new il(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function ul(t,e,n,r){return new al(t,e,n,r)}function cl(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:return n=io(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new il(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=xa(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function ll(t,e){var n=io(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Bu.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);ro(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function hl(t){var e=io(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function fl(t,e){var n=io(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return ro(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Ea();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(dl(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(ho.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Bu.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function dl(t,e,n,r,i){var o=xa();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ea();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(ho.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Yi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function pl(t,e){var n=io(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function gl(t,e){var n=io(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Bu.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new rc(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function ml(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:r=io(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ku(s=a.sent()))throw s;return Yi("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function yl(t,e,n){var r=io(t),i=ho.min(),o=xa();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=io(t),i=r.kn.get(n);return void 0!==i?Bu.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Cs(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ho.min(),n?o:xa())}).next(function(t){return{documents:t,Bn:o}})})}function vl(t,e){var n=io(t),r=io(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function bl(t){var e=io(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=io(t),i=Ea(),o=ac(n),s=Kc(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Ou.readTimeIndex,range:a},function(t,e){var n=oc(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:uc(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function wl(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){return[2,(e=io(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Kc(t),n=ho.min();return e.$t({index:Ou.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=uc(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function _l(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,Ft.Jh)(this,function(p){switch(p.label){case 0:for(i=io(t),o=xa(),s=Ea(),a=Ia(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,gl(i,function(t){return Cs(vs(yo.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return dl(t,f,s,ho.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function El(t,e,n){return void 0===n&&(n=xa()),(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return[4,gl(t,Cs(pc(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=io(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=$a(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(_o.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var Sl=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Bu.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:$a(n.createTime)}),Bu.resolve()},t.prototype.getNamedQuery=function(t,e){return Bu.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:pc(t.bundledQuery),readTime:$a(t.readTime)}}(e)),Bu.resolve()},t}(),Tl=function(){function t(){this.Wn=new ba(Cl.Gn),this.zn=new ba(Cl.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Cl(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Cl(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new No(new yo([])),r=new Cl(n,t),i=new Cl(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new No(new yo([])),n=new Cl(e,t),r=new Cl(e,t+1),i=xa();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Cl(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Cl=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return No.comparator(t.key,e.key)||ao(t.ns,e.ns)},t.Hn=function(t,e){return ao(t.ns,e.ns)||No.comparator(t.key,e.key)},t}(),Il=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ba(Cl.Gn)}return t.prototype.checkEmpty=function(t){return Bu.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new ec(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Cl(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Bu.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Bu.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Bu.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Bu.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Bu.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Cl(e,0),i=new Cl(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Bu.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ba(ao);return e.forEach(function(t){var e=new Cl(t,0),i=new Cl(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Bu.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;No.isDocumentKey(i)||(i=i.child(""));var o=new Cl(new No(i),0),s=new ba(ao);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Bu.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ro(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Bu.forEach(e.mutations,function(i){var o=new Cl(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Cl(e,0),r=this.rs.firstAfterOrEqual(n);return Bu.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Bu.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Al=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ma(No.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Bu.resolve(n?n.document.clone():Qo.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ea();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Qo.newInvalidDocument(t))}),Bu.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ea(),i=new No(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Os(e,u)&&(r=r.insert(u.key,u.clone()))}return Bu.resolve(r)},t.prototype.fs=function(t,e){return Bu.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new xl(this)},t.prototype.getSize=function(t){return Bu.resolve(this.size)},t}(),xl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Ft.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Bu.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Hc),kl=function(){function t(t){this.persistence=t,this.ds=new Bc(function(t){return Yo(t)},Xo),this.lastRemoteSnapshotVersion=ho.min(),this.highestTargetId=0,this.ws=0,this._s=new Tl,this.targetCount=0,this.ys=Dc.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Bu.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Bu.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Bu.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Bu.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Bu.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Dc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Bu.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Bu.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Bu.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Bu.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Bu.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Bu.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Bu.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Bu.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Bu.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Bu.resolve(n)},t.prototype.containsKey=function(t,e){return Bu.resolve(this._s.containsKey(e))},t}(),Ol=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Zi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new kl(this),this.Ut=new vc,this.Ue=function(t,e){return new Al(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new ic(e),this.Ke=new Sl(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Il(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Yi("MemoryPersistence","Starting transaction:",t);var i=new Dl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Bu.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Dl=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Ft.ZT)(e,t),e}(qu),Nl=function(){function t(t){this.persistence=t,this.As=new Tl,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw no()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Bu.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Bu.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Bu.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bu.forEach(this.vs,function(r){var i=No.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Bu.or([function(){return Bu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Rl=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Pl(t,e){return"firestore_clients_"+t+"_"+e}function Ll(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Fl(t,e){return"firestore_targets_"+t+"_"+e}Rl.UNAUTHENTICATED=new Rl(null),Rl.GOOGLE_CREDENTIALS=new Rl("google-credentials-uid"),Rl.FIRST_PARTY=new Rl("first-party-uid");var Vl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Qi(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Xi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ml=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Qi(i.error.code,i.error.message)),o?new t(e,i.state,r):(Xi("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),jl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Oa(),s=0;i&&s<r.activeTargetIds.length;++s)i=Do(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Xi("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ul=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Xi("SharedClientState","Failed to parse online state: "+e),null)},t}(),ql=function(){function t(){this.activeTargetIds=Oa()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Gl=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ma(ao),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Pl(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ql),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,Ft.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Pl(this.persistenceKey,r)))&&(o=jl.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Fl(this.persistenceKey,t));if(n){var r=Ml.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Fl(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Yi("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Yi("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Yi("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Yi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Xi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,Ft.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Zi.o;if(null!=t)try{var n=JSON.parse(t);ro("number"==typeof n),e=n}catch(t){Xi("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Zi.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Vl(this.currentUser,t,e,n),i=Ll(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Ll(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Fl(this.persistenceKey,t),i=new Ml(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return jl.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Vl.Vs(new Rl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Ml.Vs(r,e)},t.prototype.js=function(t){return Ul.Vs(t)},t.prototype.ii=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Yi("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Oa();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Bl=function(){function t(){this.li=new ql,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new ql,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Hl=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),zl=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Yi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Yi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),$l={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Zl=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Kl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Ft.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new $i;s.listenOnce(Gi.COMPLETE,function(){try{switch(s.getLastErrorCode()){case qi.NO_ERROR:var e=s.getResponseJson();Yi("Connection","XHR received:",JSON.stringify(e)),i(e);break;case qi.TIMEOUT:Yi("Connection",'RPC "'+t+'" timed out'),o(new Qi(Ki.DEADLINE_EXCEEDED,"Request time out"));break;case qi.HTTP_ERROR:var n=s.getStatus();if(Yi("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ki).indexOf(e)>=0?e:Ki.UNKNOWN}(r.status);o(new Qi(a,r.message))}else o(new Qi(Ki.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Qi(Ki.UNAVAILABLE,"Connection failed."));break;default:no()}}finally{Yi("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Fi,i=On(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Hi({})),this.Fi(o.initMessageHeaders,e),(0,Vt.uI)()||(0,Vt.b$)()||(0,Vt.d)()||(0,Vt.w1)()||(0,Vt.Mn)()||(0,Vt.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Yi("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Zl({Ei:function(t){c?Yi("Connection","Not sending because WebChannel is closed:",t):(u||(Yi("Connection","Opening WebChannel transport."),a.open(),u=!0),Yi("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,zi.EventType.OPEN,function(){c||Yi("Connection","WebChannel transport opened.")}),h(a,zi.EventType.CLOSE,function(){c||(c=!0,Yi("Connection","WebChannel transport closed"),l.Vi())}),h(a,zi.EventType.ERROR,function(t){c||(c=!0,to("Connection","WebChannel transport errored:",t),l.Vi(new Qi(Ki.UNAVAILABLE,"The operation could not be completed")))}),h(a,zi.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ro(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Yi("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ca[t];if(void 0!==e)return ga(e)}(i),s=r.message;void 0===o&&(o=Ki.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Qi(o,s)),a.close()}else Yi("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Bi.STAT_EVENT,function(t){10===t.stat?Yi("Connection","Detected buffering proxy"):11===t.stat&&Yi("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Yi("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Yi("RestConnection","Received: ",t),t},function(e){throw to("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+$l[t]},t}());function Ql(){return"undefined"!=typeof window?window:null}function Wl(){return"undefined"!=typeof document?document:null}function Jl(t){return new Ga(t,!0)}var Yl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Yi("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Xl=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Yl(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ki.RESOURCE_EXHAUSTED?(Xi(e.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ki.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Qi(Ki.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Ft.mG)(t,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Yi("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Yi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),th=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Ft.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:no()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(ro(void 0===e||"string"==typeof e),_o.fromBase64String(e||"")):(ro(void 0===e||e instanceof Uint8Array),_o.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ki.UNKNOWN:ga(t.code);return new Qi(e,t.message||"")}(a);n=new La(r,i,o,s||null)}else if("documentChange"in e){i=Wa(t,(r=e.documentChange).document.name),o=$a(r.document.updateTime);var a=new Zo({mapValue:{fields:r.document.fields}}),u=(s=Qo.newFoundDocument(i,o,a),r.targetIds||[]);n=new Ra(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Wa(t,(r=e.documentDelete).document),o=r.readTime?$a(r.readTime):ho.min(),a=Qo.newNoDocument(i,o),n=new Ra([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Wa(t,(r=e.documentRemove).document),n=new Ra([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return no();var c=e.filter;i=new da(r=c.count||0),n=new Pa(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ho.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ho.min():e.readTime?$a(e.readTime):ho.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Xa(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ts(r)?{documents:ou(t,r)}:{query:su(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ha(t,e.resumeToken):e.snapshotVersion.compareTo(ho.min())>0&&(n.readTime=Ba(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return no()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Xa(this.R),e.removeTarget=t,this.cr(e)},e}(Xl),eh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Ft.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(ro(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ro(void 0!==e),t.map(function(t){return function(t,e){var n=$a(t.updateTime?t.updateTime:e);return n.isEqual(ho.min())&&(n=$a(e)),new Qs(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=$a(t.commitTime);return this.listener.Tr(n,e)}return ro(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Xa(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ru(e.R,t)})};this.cr(n)},e}(Xl),nh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Ft.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Qi(Ki.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ki.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Qi(Ki.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ki.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Qi(Ki.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),rh=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Xi(e),this.Vr=!1):Yi("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ih=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Ft.mG)(o,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return dh(this)?(Yi("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return(e=io(t)).Or.add(4),[4,sh(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,oh(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new rh(n,r)};function oh(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:if(!dh(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function sh(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ah(t,e){var n=io(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),fh(n)?hh(n):xh(n).er()&&ch(n,e))}function uh(t,e){var n=io(t),r=xh(n);n.$r.delete(e),r.er()&&lh(n,e),0===n.$r.size&&(r.er()?r.ir():dh(n)&&n.Br.set("Unknown"))}function ch(t,e){t.qr.U(e.targetId),xh(t).mr(e)}function lh(t,e){t.qr.U(e),xh(t).yr(e)}function hh(t){t.qr=new Va({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),xh(t).start(),t.Br.Sr()}function fh(t){return dh(t)&&!xh(t).tr()&&t.$r.size>0}function dh(t){return 0===io(t).Or.size}function ph(t){t.qr=void 0}function gh(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return t.$r.forEach(function(e,n){ch(t,e)}),[2]})})}function mh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){return ph(t),fh(t)?(t.Br.Nr(e),hh(t)):t.Br.set("Unknown"),[2]})})}function yh(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof La&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Yi("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,vh(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ra?t.qr.X(e):e instanceof Pa?t.qr.rt(e):t.qr.et(e),n.isEqual(ho.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,hl(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(_o.EMPTY_BYTE_STRING,n.snapshotVersion)),lh(t,e);var r=new rc(n.target,e,1,n.sequenceNumber);ch(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Yi("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,vh(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function vh(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r=this;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:if(!Ku(e))throw e;return t.Or.add(1),[4,sh(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return hl(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Ft.mG)(r,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return Yi("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,oh(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function bh(t,e){return e().catch(function(n){return vh(t,n,e)})}function wh(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:e=io(t),n=kh(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return dh(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,pl(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=kh(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,vh(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return _h(e)&&Eh(e),[2]}})})}function _h(t){return dh(t)&&!kh(t).tr()&&t.kr.length>0}function Eh(t){kh(t).start()}function Sh(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return kh(t).Ar(),[2]})})}function Th(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Ft.Jh)(this,function(i){for(e=kh(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Ch(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=nc.from(r,e,n),[4,bh(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,wh(t)];case 2:return o.sent(),[2]}})})}function Ih(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e&&kh(t).pr?[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return pa(r=e.code)&&r!==Ki.ABORTED?(n=t.kr.shift(),kh(t).sr(),[4,bh(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,wh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _h(t)&&Eh(t),[2]}})})}function Ah(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return n=io(t),e?(n.Or.delete(2),[4,oh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,sh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function xh(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=io(t);return r.br(),new th(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:gh.bind(null,t),Ri:mh.bind(null,t),_r:yh.bind(null,t)}),t.Mr.push(function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),fh(t)?hh(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ph(t),e.label=3;case 3:return[2]}})})})),t.Ur}function kh(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=io(t);return r.br(),new eh(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Sh.bind(null,t),Ri:Ih.bind(null,t),Ir:Th.bind(null,t),Tr:Ch.bind(null,t)}),t.Mr.push(function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,wh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(Yi("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Oh=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qi(Ki.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Dh(t,e){if(Xi("AsyncQueue",e+": "+t),Ku(t))return new Qi(Ki.UNAVAILABLE,e+": "+t);throw t}var Nh=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||No.comparator(e.key,n.key)}:function(t,e){return No.comparator(t.key,e.key)},this.keyedMap=Ta(),this.sortedSet=new ma(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Rh=function(){function t(){this.Qr=new ma(No.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):no():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ph=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Nh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&As(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Lh=function(){this.Wr=void 0,this.listeners=[]},Fh=function(){this.queries=new Bc(function(t){return xs(t)},As),this.onlineState="Unknown",this.Gr=new Set};function Vh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:if(n=io(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Lh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Dh(a,"Initialization of query '"+ks(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&qh(n),[2]}})})}function Mh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ft.Jh)(this,function(a){return n=io(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function jh(t,e){for(var n=io(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&qh(n)}function Uh(t,e,n){var r=io(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function qh(t){t.Gr.forEach(function(t){t.next()})}var Gh=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ph(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Ph.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Bh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Hh=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Wa(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?nu(this.R,t.document,!1):Qo.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return $a(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Hh(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||xa()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return[4,_l(this.localStore,new Hh(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,El(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new rl(Object.assign({},this.progress),t))]}})})}}();var zh=function(t){this.key=t},$h=function(t){this.key=t},Zh=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=xa(),this.mutatedKeys=xa(),this.lo=Ds(t),this.fo=new Nh(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Rh,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=bs(this.query)&&i.size===this.query.limit?i.last():null,c=ws(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Os(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),bs(this.query)||ws(this.query))for(;s.size>this.query.limit;){var l=bs(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return no()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Ph(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Rh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=xa(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new $h(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new zh(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=xa();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Ph.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Kh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Qh=function(t){this.key=t,this.bo=!1},Wh=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Bc(function(t){return xs(t)},As),this.Vo=new Map,this.So=new Set,this.Do=new ma(No.comparator),this.Co=new Map,this.No=new Tl,this.xo={},this.Fo=new Map,this.ko=Dc.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Jh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return n=Af(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,gl(n.localStore,Cs(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Yh(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&ah(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Yh(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,Ft.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,yl(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ff(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,yl(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Zh(e,i.Bn),s=o._o(i.documents),a=Na.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),ff(t,n,u.To),c=new Kh(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Xh(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return n=io(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!As(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ml(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),uh(n.remoteStore,r.targetId),lf(n,r.targetId)}).catch(Fc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return lf(n,r.targetId),[4,ml(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function tf(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:r=xf(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=io(t),i=lo.now(),o=e.reduce(function(t,e){return t.add(e.key)},xa());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=ea(c,n.get(c.key));null!=l&&s.push(new oa(c.key,l,Ko(l.value.mapValue),Ws.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ma(ao)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,gf(r,i.changes)];case 3:return a.sent(),[4,wh(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Dh(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function ef(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:n=io(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(ro(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ro(r.bo):t.removedDocuments.size>0&&(ro(r.bo),r.bo=!1))}),[4,gf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Fc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function nf(t,e,n){var r=io(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=io(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&qh(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rf(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:return(r=io(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new ma(No.comparator)).insert(o,Qo.newNoDocument(o,ho.min())),a=xa().add(o),u=new Da(ho.min(),new Map,new ba(ao),s,a),[4,ef(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),pf(r),[3,4];case 2:return[4,ml(r.localStore,e,!1).then(function(){return lf(r,e,n)}).catch(Fc)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function of(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:n=io(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ll(n.localStore,e)];case 2:return i=o.sent(),cf(n,r,null),uf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,gf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function sf(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:r=io(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=io(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return ro(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),cf(r,e,n),uf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,gf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function af(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:dh((n=io(t)).remoteStore)||Yi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=io(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Dh(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function uf(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function cf(t,e,n){var r=io(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function lf(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||hf(t,e)})}function hf(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(uh(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),pf(t))}function ff(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof zh?(t.No.addReference(o.key,e),df(t,o)):o instanceof $h?(Yi("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||hf(t,o.key)):no()}}function df(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Yi("SyncEngine","New document in limbo: "+n),t.So.add(r),pf(t))}function pf(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new No(yo.fromString(e)),r=t.ko.next();t.Co.set(r,new Qh(n)),t.Do=t.Do.insert(n,r),ah(t.remoteStore,new rc(Cs(vs(n.path)),r,2,Zi.o))}}function gf(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return r=io(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ol.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,Ft.Jh)(this,function(l){switch(l.label){case 0:n=io(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Bu.forEach(e,function(e){return Bu.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Bu.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ku(r=l.sent()))throw r;return Yi("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function mf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return(n=io(t)).currentUser.isEqual(e)?[3,3]:(Yi("SyncEngine","User change. New user:",e.toKey()),[4,cl(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Qi(Ki.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,gf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function yf(t,e){var n=io(t),r=n.Co.get(e);if(r&&r.bo)return xa().add(r.key);var i=xa(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function vf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return[4,yl((n=io(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ff(n,e.targetId,i.To),i)]}})})}function bf(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){return[2,bl((e=io(t)).localStore).then(function(t){return gf(e,t)})]})})}function wf(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=io(t),r=io(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Bu.resolve(null)})})}((i=io(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,wh(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cf(i,e,r||null),uf(i,e),function(t,e){io(io(t)._n).Gt(e)}(i.localStore,e)):no(),s.label=4;case 4:return[4,gf(i,o)];case 5:return s.sent(),[3,7];case 6:Yi("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function _f(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:return Af(n=io(t)),xf(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ef(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Ah(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ah(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return lf(n,e),ml(n.localStore,e,!0)}),uh(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Ef(n,a)];case 5:return c.sent(),function(t){var e=io(t);e.Co.forEach(function(t,n){uh(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ma(No.comparator)}(n),n.$o=!1,[4,Ah(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ef(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,Ft.Jh)(this,function(g){switch(g.label){case 0:n=io(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,gl(n.localStore,Cs(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,vf(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,vl(n.localStore,a)];case 8:return p=g.sent(),[4,gl(n.localStore,p)];case 9:return u=g.sent(),[4,Yh(n,Sf(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Sf(t){return ys(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Tf(t){var e=io(t);return io(io(e.localStore).persistence).fn()}function Cf(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return(i=io(t)).$o?(Yi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,bl(i.localStore)];case 3:return o=a.sent(),s=Da.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,gf(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,ml(i.localStore,e,!0)];case 6:return a.sent(),lf(i,e,r),[3,8];case 7:no(),a.label=8;case 8:return[2]}})})}function If(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,Ft.Jh)(this,function(f){switch(f.label){case 0:if(!(r=Af(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Yi("SyncEngine","Adding an already active target "+s),[3,5]):[4,vl(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,gl(r.localStore,a)];case 3:return u=f.sent(),[4,Yh(r,Sf(a),u.targetId,!1)];case 4:f.sent(),ah(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,ml(r.localStore,t,!1).then(function(){uh(r.remoteStore,t),lf(r,t)}).catch(Fc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Af(t){var e=io(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ef.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rf.bind(null,e),e.vo._r=jh.bind(null,e.eventManager),e.vo.Mo=Uh.bind(null,e.eventManager),e}function xf(t){var e=io(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=of.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sf.bind(null,e),e}var kf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return this.R=Jl(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return ul(this.persistence,new sl,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ol(Nl.bs,this.R)},t.prototype.Bo=function(t){return new Bl},t.prototype.terminate=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Of=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Ft.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,wl(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,xf(this.Qo.syncEngine)];case 4:return n.sent(),[4,wh(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return ul(this.persistence,new sl,t.initialUser,this.R)},e.prototype.Uo=function(t){return new jc(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=nl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Sc.withCacheSize(this.cacheSizeBytes):Sc.DEFAULT;return new Xc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ql(),Wl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Bl},e}(kf),Df=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Ft.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Gl?(this.sharedClientState.syncEngine={ui:wf.bind(null,n),ai:Cf.bind(null,n),hi:If.bind(null,n),fn:Tf.bind(null,n),ci:bf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Ft.mG)(r,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return[4,_f(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Ql();if(!Gl.yt(e))throw new Qi(Ki.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Gl(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Of),Nf=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n=this;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return nf(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mf.bind(null,this.syncEngine),[4,Ah(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Fh},t.prototype.createDatastore=function(t){var e=Jl(t.databaseInfo.databaseId),n=new Kl(t.databaseInfo);return function(t,e,n){return new nh(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return nf(s.syncEngine,t,0)},o=zl.yt()?new zl:new Hl,new ih(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Wh(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=io(t),Yi("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,sh(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Rf=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Pf=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Gu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Bh(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Qi(Ki.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Ft.Jh)(this,function(u){switch(u.label){case 0:return n=io(t),r=Xa(n.R)+"/documents",i={documents:e.map(function(t){return Qa(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ro(!!e.found);var n=Wa(t,e.found.name),r=$a(e.found.updateTime),i=new Zo({mapValue:{fields:e.found.fields}});return Qo.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ro(!!e.missing),ro(!!e.readTime);var n=Wa(t,e.missing),r=$a(e.readTime);return Qo.newNoDocument(n,r)}(t,e):no()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());ro(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ha(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=No.fromPath(n);e.mutations.push(new fa(r,e.precondition(r)))}),[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return n=io(t),r=Xa(n.R)+"/documents",i={writes:e.map(function(t){return ru(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw no();e=ho.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Qi(Ki.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ws.updateTime(e):Ws.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ho.min()))throw new Qi(Ki.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ws.updateTime(e)}return Ws.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Lf=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Yl(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Ft.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Ft.Jh)(this,function(r){return t=new Pf(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ko(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!pa(e)}return!1},t}(),Ff=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Rl.UNAUTHENTICATED,this.clientId=so.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Ft.mG)(r,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return Yi("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Qi(Ki.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Gu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ft.mG)(t,void 0,void 0,function(){var t,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Dh(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Vf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Yi("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Ft.mG)(i,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,cl(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Mf(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,jf(t)];case 1:return n=i.sent(),Yi("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return(n=io(t)).asyncQueue.verifyOperationInProgress(),Yi("RemoteStore","RemoteStore received new credentials"),r=dh(n),n.Or.add(3),[4,sh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,oh(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function jf(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Yi("FirestoreClient","Using default OfflineComponentProvider"),[4,Vf(t,new kf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Uf(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Yi("FirestoreClient","Using default OnlineComponentProvider"),[4,Mf(t,new Nf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function qf(t){return jf(t).then(function(t){return t.persistence})}function Gf(t){return jf(t).then(function(t){return t.localStore})}function Bf(t){return Uf(t).then(function(t){return t.remoteStore})}function Hf(t){return Uf(t).then(function(t){return t.syncEngine})}function zf(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return[4,Uf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Jh.bind(null,e.syncEngine),n.onUnlisten=Xh.bind(null,e.syncEngine),n)]}})})}function $f(t,e,n){var r=this;void 0===n&&(n={});var i=new Gu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(r,void 0,void 0,function(){var r;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Rf({next:function(o){e.enqueueAndForget(function(){return Mh(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Qi(Ki.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Qi(Ki.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Gh(vs(n.path),o,{includeMetadataChanges:!0,so:!0});return Vh(t,s)},[4,zf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Zf(t,e,n){var r=this;void 0===n&&(n={});var i=new Gu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(r,void 0,void 0,function(){var r;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Rf({next:function(n){e.enqueueAndForget(function(){return Mh(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Qi(Ki.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Gh(n,o,{includeMetadataChanges:!0,so:!0});return Vh(t,s)},[4,zf(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Kf=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Qf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Wf=new Map,Jf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Yf=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Rl.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Xf=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),td=function(){function t(t){var e=this;this.currentUser=Rl.UNAUTHENTICATED,this.oc=new Gu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Yi("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Yi("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Yi("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ro("string"==typeof n.accessToken),new Jf(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Ft.mG)(n,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ro(null===t||"string"==typeof t),new Rl(t)},t}(),ed=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Rl.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),nd=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new ed(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Rl.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function rd(t,e,n){if(!n)throw new Qi(Ki.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function id(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function od(t,e,n,r){if(!0===e&&!0===r)throw new Qi(Ki.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function sd(t){if(!No.isDocumentKey(t))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ad(t){if(No.isDocumentKey(t))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ud(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":no()}function cd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qi(Ki.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ud(t);throw new Qi(Ki.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ld(t,e){if(e<=0)throw new Qi(Ki.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var hd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Qi(Ki.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Qi(Ki.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,od("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),fd=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hd({}),this._settingsFrozen=!1,t instanceof Qf?(this._databaseId=t,this._credentials=new Yf):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Qi(Ki.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qf(t.options.projectId)}(t),this._credentials=new td(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Qi(Ki.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Qi(Ki.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Yf;switch(t.type){case"gapi":var e=t.client;return ro(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new nd(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Qi(Ki.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Wf.get(this))&&(Yi("ComponentProvider","Removing Datastore"),Wf.delete(this),t.terminate()),Promise.resolve();var t},t}(),dd=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new gd(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),pd=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),gd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,vs(r))||this)._path=r,i.type="collection",i}return(0,Ft.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new dd(this.firestore,null,new No(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(pd);function md(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Vt.m9)(t),rd("collection","path",e),t instanceof fd)return ad(n=yo.fromString.apply(yo,(0,Ft.ev)([e],r))),new gd(t,null,n);if(!(t instanceof dd||t instanceof gd))throw new Qi(Ki.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ad(n=yo.fromString.apply(yo,(0,Ft.ev)([t.path],r)).child(yo.fromString(e))),new gd(t.firestore,null,n)}function yd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Vt.m9)(t),1===arguments.length&&(e=so.u()),rd("doc","path",e),t instanceof fd)return sd(n=yo.fromString.apply(yo,(0,Ft.ev)([e],r))),new dd(t,null,new No(n));if(!(t instanceof dd||t instanceof gd))throw new Qi(Ki.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sd(n=t._path.child(yo.fromString.apply(yo,(0,Ft.ev)([e],r)))),new dd(t.firestore,t instanceof gd?t.converter:null,new No(n))}function vd(t,e){return t=(0,Vt.m9)(t),e=(0,Vt.m9)(e),(t instanceof dd||t instanceof gd)&&(e instanceof dd||e instanceof gd)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function bd(t,e){return t=(0,Vt.m9)(t),e=(0,Vt.m9)(e),t instanceof pd&&e instanceof pd&&t.firestore===e.firestore&&As(t._query,e._query)&&t.converter===e.converter}var wd=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Yl(this,"async_queue_retry"),this.Ic=function(){var e=Wl();e&&Yi("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Wl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Wl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Gu;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ku(t=n.sent()))throw t;return Yi("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Xi("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Oh.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&no()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t;return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function _d(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Gu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new wd,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Ft.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Td(this),this._firestoreClient.terminate()},e}(fd);function Sd(t){return t._firestoreClient||Td(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Td(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Kf(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ff(t._credentials,t._queue,r)}function Cd(t,e,n){var r=this,i=new Gu;return t.asyncQueue.enqueue(function(){return(0,Ft.mG)(r,void 0,void 0,function(){var r;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Vf(t,n)];case 1:return o.sent(),[4,Mf(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ki.FAILED_PRECONDITION||t.code===Ki.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Id(t){if(t._initialized||t._terminated)throw new Qi(Ki.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ad=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bo(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),xd=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(_o.fromBase64String(e))}catch(e){throw new Qi(Ki.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(_o.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),kd=function(t){this._methodName=t},Od=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Qi(Ki.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Qi(Ki.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ao(this._lat,t._lat)||ao(this._long,t._long)},t}(),Dd=/^__.*__$/,Nd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new oa(t,this.data,this.fieldMask,e,this.fieldTransforms):new ia(t,this.data,e,this.fieldTransforms)},t}(),Rd=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new oa(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Pd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw no()}}var Ld=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return ep(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Pd(this.Nc)&&Dd.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Fd=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Jl(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Ld({Nc:t,methodName:e,qc:n,path:bo.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Vd(t){var e=t._freezeSettings(),n=Jl(t._databaseId);return new Fd(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Md(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Jd("Data must be an object, but it was:",s,r);var a,u,c=Qd(r,s);if(o.merge)a=new wo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Yd(e,f[h],n);if(!s.contains(d))throw new Qi(Ki.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");np(l,d)||l.push(d)}a=new wo(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Nd(new Zo(c),a,u)}var jd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(kd);function Ud(t,e,n){return new Ld({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Ks(t.path,new Us)},e.prototype.isEqual=function(t){return t instanceof e},e}(kd),Gd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Ud(this,t,!0),n=this.Kc.map(function(t){return Kd(t,e)}),r=new qs(n);return new Ks(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kd),Bd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Ud(this,t,!0),n=this.Kc.map(function(t){return Kd(t,e)}),r=new Bs(n);return new Ks(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kd),Hd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new zs(t.R,Ls(t.R,this.Qc));return new Ks(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(kd);function zd(t,e,n,r){var i=t.Uc(1,e,n);Jd("Data must be an object, but it was:",i,r);var o=[],s=Zo.empty();po(r,function(t,r){var a=tp(e,t,n);r=(0,Vt.m9)(r);var u=i.Oc(a);if(r instanceof jd)o.push(a);else{var c=Kd(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new wo(o);return new Rd(s,a,i.fieldTransforms)}function $d(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Yd(e,r,n)],u=[i];if(o.length%2!=0)throw new Qi(Ki.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Yd(e,o[c])),u.push(o[c+1]);for(var l=[],h=Zo.empty(),f=a.length-1;f>=0;--f)if(!np(l,a[f])){var d=a[f],p=u[f];p=(0,Vt.m9)(p);var g=s.Oc(d);if(p instanceof jd)l.push(d);else{var m=Kd(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new wo(l);return new Rd(h,y,s.fieldTransforms)}function Zd(t,e,n,r){return void 0===r&&(r=!1),Kd(n,t.Uc(r?4:3,e))}function Kd(t,e){if(Wd(t=(0,Vt.m9)(t)))return Jd("Unsupported field value:",e,t),Qd(t,e);if(t instanceof kd)return function(t,e){if(!Pd(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Kd(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Vt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ls(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=lo.fromDate(t);return{timestampValue:Ba(e.R,n)}}if(t instanceof lo)return n=new lo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ba(e.R,n)};if(t instanceof Od)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xd)return{bytesValue:Ha(e.R,t._byteString)};if(t instanceof dd){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Za(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+ud(t))}(t,e)}function Qd(t,e){var n={};return go(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(t,function(t,r){var i=Kd(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Wd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof lo||t instanceof Od||t instanceof xd||t instanceof dd||t instanceof kd)}function Jd(t,e,n){if(!Wd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ud(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Yd(t,e,n){if((e=(0,Vt.m9)(e))instanceof Ad)return e._internalPath;if("string"==typeof e)return tp(t,e);throw ep("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Xd=new RegExp("[~\\*/\\[\\]]");function tp(t,e,n){if(e.search(Xd)>=0)throw ep("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ad.bind.apply(Ad,(0,Ft.ev)([void 0],e.split(".")))))._internalPath}catch(eg){throw ep("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ep(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Qi(Ki.INVALID_ARGUMENT,(a+=". ")+t+u)}function np(t,e){return t.some(function(t){return t.isEqual(e)})}var rp=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new dd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ip(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(op("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(rp);function op(t,e){return"string"==typeof e?tp(t,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}var sp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ap=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Ft.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(op("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(rp),up=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ap),cp=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new sp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new up(n._firestore,n._userDataWriter,r.key,r,new sp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qi(Ki.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new up(t._firestore,t._userDataWriter,e.doc.key,e.doc,new sp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new up(t._firestore,t._userDataWriter,e.doc.key,e.doc,new sp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:lp(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function lp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return no()}}function hp(t,e){return t instanceof ap&&e instanceof ap?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof cp&&e instanceof cp&&t._firestore===e._firestore&&bd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function fp(t){if(ws(t)&&0===t.explicitOrderBy.length)throw new Qi(Ki.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dp=function(){};function pp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var gp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e=Vd(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ep(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(_p(r,t,l[c]));a={arrayValue:{values:u}}}else a=_p(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ep(s,o),a=Zd(n,"where",s,"in"===o||"not-in"===o);var h=es.create(i,o,a);return function(t,e){if(e.g()){var n=Es(t);if(null!==n&&!n.isEqual(e.field))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=_s(t);null!==r&&Sp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Qi(Ki.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new pd(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(dp),mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fs(e,n);return function(t,e){if(null===_s(t)){var n=Es(t);null!==n&&Sp(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new pd(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new ms(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(dp),yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){return new pd(t.firestore,t.converter,Is(t._query,this.Hc,this.Jc))},e}(dp),vp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e=wp(t,this.type,this.Yc,this.Xc);return new pd(t.firestore,t.converter,function(t,e){return new ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(dp),bp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e=wp(t,this.type,this.Yc,this.Xc);return new pd(t.firestore,t.converter,function(t,e){return new ms(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(dp);function wp(t,e,n,r){if(n[0]=(0,Vt.m9)(n[0]),n[0]instanceof rp)return function(t,e,n,r,i){if(!r)throw new Qi(Ki.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ts(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Uo(e,r.key));else{var c=r.data.field(u.field);if(Io(c))throw new Qi(Ki.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ls(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Vd(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Qi(Ki.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ss(t)&&-1!==c.indexOf("/"))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(yo.fromString(c));if(!No.isDocumentKey(l))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new No(l);a.push(Uo(e,h))}else{var f=Zd(n,r,c);a.push(f)}}return new ls(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function _p(t,e,n){if("string"==typeof(n=(0,Vt.m9)(n))){if(""===n)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ss(e)&&-1!==n.indexOf("/"))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(yo.fromString(n));if(!No.isDocumentKey(r))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Uo(t,new No(r))}if(n instanceof dd)return Uo(t,n._key);throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ud(n)+".")}function Ep(t,e){if(!Array.isArray(t)||0===t.length)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Sp(t,e,n){if(!n.isEqual(e))throw new Qi(Ki.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Tp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ro(t)){case 0:return null;case 1:return t.booleanValue;case 2:return To(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Co(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw no()}},t.prototype.convertObject=function(t,e){var n=this,r={};return po(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Od(To(t.latitude),To(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ao(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(xo(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=So(t);return new lo(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=yo.fromString(t);ro(vu(n));var r=new Qf(n.get(1),n.get(3)),i=new No(n.popFirst(5));return r.isEqual(e)||Xi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Cp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ip=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ft.ZT)(e,t),e.prototype.convertBytes=function(t){return new xd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dd(this.firestore,null,e)},e}(Tp),Ap=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Vd(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=xp(t,this._firestore),i=Cp(r.converter,e,n),o=Md(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ws.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=xp(t,this._firestore);return o="string"==typeof(e=(0,Vt.m9)(e))||e instanceof Ad?$d(this._dataReader,"WriteBatch.update",s._key,e,n,r):zd(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ws.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=xp(t,this._firestore);return this._mutations=this._mutations.concat(new ha(e._key,Ws.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Qi(Ki.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function xp(t,e){if((t=(0,Vt.m9)(t)).firestore!==e)throw new Qi(Ki.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var kp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ft.ZT)(e,t),e.prototype.convertBytes=function(t){return new xd(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new dd(this.firestore,null,e)},e}(Tp);function Op(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=cd(t,dd);var o=cd(t.firestore,Ed),s=Vd(o);return Np(o,[("string"==typeof(e=(0,Vt.m9)(e))||e instanceof Ad?$d(s,"updateDoc",t._key,e,n,r):zd(s,"updateDoc",t._key,e)).toMutation(t._key,Ws.exists(!0))])}function Dp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,Vt.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||_d(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(_d(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof dd)c=cd(t.firestore,Ed),l=vs(t._key.path),u={next:function(e){i[a]&&i[a](Rp(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=cd(t,pd);c=cd(d.firestore,Ed),l=d._query;var p=new kp(c);u={next:function(t){i[a]&&i[a](new cp(c,p,d,t))},error:i[a+1],complete:i[a+2]},fp(t._query)}return function(t,e,n,r){var i=this,o=new Rf(r),s=new Gh(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(i,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=Vh,[4,zf(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(i,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=Mh,[4,zf(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Sd(c),l,h,u)}function Np(t,e){return function(t,e){var n=this,r=new Gu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return n=tf,[4,Hf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Sd(t),e)}function Rp(t,e,n){var r=n.docs.get(e._key),i=new kp(t);return new ap(t,i,e._key,r,new sp(n.hasPendingWrites,n.fromCache),e.converter)}var Pp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Ft.ZT)(e,t),e.prototype.get=function(e){var n=this,r=xp(e,this._firestore),i=new kp(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new ap(n._firestore,i,r._key,t._document,new sp(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Vd(t)}return t.prototype.get=function(t){var e=this,n=xp(t,this._firestore),r=new Ip(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return no();var i=t[0];if(i.isFoundDocument())return new rp(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rp(e._firestore,r,n._key,null,n.converter);throw no()})},t.prototype.set=function(t,e,n){var r=xp(t,this._firestore),i=Cp(r.converter,e,n),o=Md(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=xp(t,this._firestore);return o="string"==typeof(e=(0,Vt.m9)(e))||e instanceof Ad?$d(this._dataReader,"Transaction.update",s._key,e,n,r):zd(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=xp(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Lp(){if("undefined"==typeof Uint8Array)throw new Qi(Ki.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Fp(){if("undefined"==typeof atob)throw new Qi(Ki.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Vp=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Fp(),new t(xd.fromBase64String(e))},t.fromUint8Array=function(e){return Lp(),new t(xd.fromUint8Array(e))},t.prototype.toBase64=function(){return Fp(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Lp(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Mp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Id(t=cd(t,Ed));var n=Sd(t),r=t._freezeSettings(),i=new Nf;return Cd(n,i,new Of(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Id(t=cd(t,Ed));var e=Sd(t),n=t._freezeSettings(),r=new Nf;return Cd(e,r,new Df(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Qi(Ki.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Gu;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return zu.yt()?[4,zu.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(nl(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),jp=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Qf||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||to("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=cd(t,fd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&to("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Vt.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Qi(Ki.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Xf(new Jf(o,new Rl(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return[4,qf(t)];case 1:return e=r.sent(),[4,Bf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=io(t);return e.Or.delete(0),oh(e)}(n))]}})})})}(Sd(cd(this._delegate,Ed)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return[4,qf(t)];case 1:return e=r.sent(),[4,Bf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return(e=io(t)).Or.add(0),[4,sh(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Sd(cd(this._delegate,Ed)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&od("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Gu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return e=af,[4,Hf(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Sd(cd(this._delegate,Ed)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Rf(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){io(t).Gr.add(e),e.next()},[4,zf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){io(t).Gr.delete(e)},[4,zf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Sd(t=cd(t,Ed)),_d(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Qi(Ki.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xp(this,md(this._delegate,t))}catch(t){throw zp(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Hp(this,yd(this._delegate,t))}catch(t){throw zp(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Wp(this,function(t,e){if(t=cd(t,fd),rd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new pd(t,null,function(t){return new ms(yo.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw zp(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Gu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return Uf(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Lf(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Sd(t),function(n){return e(new Pp(t,n))})}(this._delegate,function(n){return t(new qp(e,n))})},t.prototype.batch=function(){var t=this;return Sd(this._delegate),new Gp(new Ap(this._delegate,function(e){return Np(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Qi(Ki.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Qi(Ki.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Up=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ft.ZT)(e,t),e.prototype.convertBytes=function(t){return new Vp(new xd(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Hp.eu(e,this.firestore,null)},e}(Tp),qp=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Up(t)}return t.prototype.get=function(t){var e=this,n=tg(t);return this._delegate.get(n).then(function(t){return new Kp(e._firestore,new ap(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=tg(t);return n?(id("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=tg(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Ft.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=tg(t);return this._delegate.delete(e),this},t}(),Gp=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=tg(t);return n?(id("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=tg(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Ft.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=tg(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Bp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new up(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qp(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Up(e),n),i.set(n,o)),o},t}();Bp.su=new WeakMap;var Hp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Up(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Qi(Ki.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new dd(n._delegate,r,new No(e)))},t.eu=function(e,n,r){return new t(n,new dd(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xp(this.firestore,md(this._delegate,t))}catch(t){throw zp(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,Vt.m9)(t))instanceof dd&&vd(this._delegate,t)},t.prototype.set=function(t,e){e=id("DocumentReference.set",e);try{return function(t,e,n){t=cd(t,dd);var r=cd(t.firestore,Ed),i=Cp(t.converter,e,n);return Np(r,[Md(Vd(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ws.none())])}(this._delegate,t,e)}catch(t){throw zp(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Op(this._delegate,t):Op.apply(void 0,(0,Ft.ev)([this._delegate,t,e],n))}catch(t){throw zp(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Np(cd((t=this._delegate).firestore,Ed),[new ha(t._key,Ws.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$p(e),i=Zp(e,function(e){return new Kp(t.firestore,new ap(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Dp(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cd(t,dd);var e=cd(t.firestore,Ed),n=Sd(e),r=new kp(e);return function(t,e){var n=this,r=new Gu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=io(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Qi(Ki.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Dh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Gf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new ap(e,r,t._key,n,new sp(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cd(t,dd);var e=cd(t.firestore,Ed);return $f(Sd(e),t._key,{source:"server"}).then(function(n){return Rp(e,t,n)})}(this._delegate):function(t){t=cd(t,dd);var e=cd(t.firestore,Ed);return $f(Sd(e),t._key).then(function(n){return Rp(e,t,n)})}(this._delegate)).then(function(t){return new Kp(e.firestore,new ap(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Bp.nu(this.firestore,e):null))},t}();function zp(t,e,n){return t.message=t.message.replace(e,n),t}function $p(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!_d(r))return r}return{}}function Zp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=_d(t[0])?t[0]:_d(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Kp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Hp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return hp(this._delegate,t._delegate)},t}(),Qp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Kp),Wp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Up(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,pp(this._delegate,function(t,e,n){var r=e,i=op("where",t);return new gp(i,r,n)}(e,n,r)))}catch(e){throw zp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,pp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=op("orderBy",t);return new mp(r,n)}(e,n)))}catch(e){throw zp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,pp(this._delegate,function(t){return ld("limit",t),new yp("limit",t,"F")}(e)))}catch(e){throw zp(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,pp(this._delegate,function(t){return ld("limitToLast",t),new yp("limitToLast",t,"L")}(e)))}catch(e){throw zp(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vp("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw zp(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vp("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw zp(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bp("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw zp(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pp(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bp("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw zp(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return bd(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cd(t,pd);var e=cd(t.firestore,Ed),n=Sd(e),r=new kp(e);return function(t,e){var n=this,r=new Gu;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Ft.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,yl(t,e,!0)];case 1:return a=u.sent(),r=new Zh(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Dh(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Gf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new cp(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cd(t,pd);var e=cd(t.firestore,Ed),n=Sd(e),r=new kp(e);return Zf(n,t._query,{source:"server"}).then(function(n){return new cp(e,r,t,n)})}(this._delegate):function(t){t=cd(t,pd);var e=cd(t.firestore,Ed),n=Sd(e),r=new kp(e);return fp(t._query),Zf(n,t._query).then(function(n){return new cp(e,r,t,n)})}(this._delegate)).then(function(t){return new Yp(e.firestore,new cp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$p(e),i=Zp(e,function(e){return new Yp(t.firestore,new cp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Dp(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Bp.nu(this.firestore,e):null))},t}(),Jp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Qp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Yp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Wp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Qp(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Jp(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Qp(n._firestore,r))})},t.prototype.isEqual=function(t){return hp(this._delegate,t._delegate)},t}(),Xp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Ft.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Hp(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Hp(this.firestore,void 0===t?yd(this._delegate):yd(this._delegate,t))}catch(t){throw zp(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=cd(t.firestore,Ed),r=yd(t),i=Cp(t.converter,e);return Np(n,[Md(Vd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ws.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Hp(e.firestore,t)})},e.prototype.isEqual=function(t){return vd(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Bp.nu(this.firestore,t):null))},e}(Wp);function tg(t){return cd(t,dd)}var eg,ng=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ad.bind.apply(Ad,(0,Ft.ev)([void 0],t)))}return t.documentId=function(){return new t(bo.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,Vt.m9)(t))instanceof Ad&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),rg=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new qd("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new jd("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gd("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bd("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Hd("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),ig=n(6034),og={Firestore:jp,GeoPoint:Od,Timestamp:lo,Blob:Vp,Transaction:qp,WriteBatch:Gp,DocumentReference:Hp,DocumentSnapshot:Kp,Query:Wp,QueryDocumentSnapshot:Qp,QuerySnapshot:Yp,CollectionReference:Xp,FieldPath:ng,FieldValue:rg,setLogLevel:function(t){Wi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ig.wA("firestore",function(t){return function(t,e){return new jp(t,new Ed(t,e),new Mp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},og)))})(eg=Lt.Z),eg.registerVersion("@firebase/firestore","2.3.9");var sg=n(9765),ag=n(6682),ug=n(5345);function cg(t,e){return"function"==typeof e?n=>n.pipe(cg((n,r)=>(0,ft.D)(t(n,r)).pipe((0,Et.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new lg(t))}class lg{constructor(t){this.project=t}call(t,e){return e.subscribe(new hg(t,this.project))}}class hg extends ug.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new ug.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,ug.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var fg=n(7771),dg=n(5319),pg=n(7971),gg=n(8858);class mg extends sg.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new yg(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new pg.N;if(this.isStopped||this.hasError?o=dg.w.EMPTY:(this.observers.push(t),o=new gg.W(this,t)),r&&t.add(t=new Nt.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||fg.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class yg{constructor(t,e){this.time=t,this.value=e}}function vg(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new mg(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const bg=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),wg=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var _g=n(9193);function Eg(t){return e=>0===t?(0,_g.c)():e.lift(new Sg(t))}class Sg{constructor(t){if(this.total=t,this.total<0)throw new wg}call(t,e){return e.subscribe(new Tg(t,this.total))}}class Tg extends vt.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Cg(t=null){return e=>e.lift(new Ig(t))}class Ig{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ag(t,this.defaultValue))}}class Ag extends vt.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function xg(t=Dg){return e=>e.lift(new kg(t))}class kg{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Og(t,this.errorFactory))}}class Og extends vt.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(eg){t=eg}this.destination.error(t)}}}function Dg(){return new bg}var Ng=n(4487);function Rg(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kt((e,n)=>t(e,n,r)):Ng.y,Eg(1),n?Cg(e):xg(()=>new bg))}function Pg(t,e){return e?cg(()=>t,e):cg(()=>t)}var Lg=n(2639);const Fg=new r.OlP("angularfire2.auth.use-emulator"),Vg=new r.OlP("angularfire2.auth.settings"),Mg=new r.OlP("angularfire2.auth.tenant-id"),jg=new r.OlP("angularfire2.auth.langugage-code"),Ug=new r.OlP("angularfire2.auth.use-device-language"),qg=new r.OlP("angularfire.auth.persistence");let Gg=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Rt.HU(i),f=(0,Rt.ss)(h),d=new sg.xQ,p=(0,dt.of)(void 0).pipe((0,Nt.QV)(h.outsideAngular),cg(()=>i.runOutsideAngular(()=>n.e(336).then(n.bind(n,1336)))),(0,Et.U)(()=>(0,Rt.on)(t,i,e)),(0,Et.U)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return(0,Rt.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),vg({bufferSize:1,refCount:!1}));if(D(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,dt.of)(null);else{p.pipe(Rg()).subscribe();const t=p.pipe(cg(t=>t.getRedirectResult().then(t=>t,()=>null)),f,vg({bufferSize:1,refCount:!1})),e=t=>new ht.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(cg(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(cg(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Pg(n),(0,Lg.R)(h.outsideAngular),(0,Nt.QV)(h.insideAngular)),this.user=t.pipe(Pg(r),(0,Lg.R)(h.outsideAngular),(0,Nt.QV)(h.insideAngular)),this.idToken=this.user.pipe(cg(t=>t?(0,ft.D)(t.getIdToken()):(0,dt.of)(null))),this.idTokenResult=this.user.pipe(cg(t=>t?(0,ft.D)(t.getIdTokenResult()):(0,dt.of)(null))),this.credential=(0,ag.T)(t,d,this.authState.pipe(kt(t=>!t))).pipe((0,Et.U)(t=>(null==t?void 0:t.user)?t:null),(0,Lg.R)(h.outsideAngular),(0,Nt.QV)(h.insideAngular))}return(0,Rt.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Rt.Dh),r.LFG(Rt.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Fg,8),r.LFG(Vg,8),r.LFG(Mg,8),r.LFG(jg,8),r.LFG(Ug,8),r.LFG(qg,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Rt.Dh),r.LFG(Rt.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Fg,8),r.LFG(Vg,8),r.LFG(Mg,8),r.LFG(jg,8),r.LFG(Ug,8),r.LFG(qg,8))},token:t,providedIn:"any"}),t})();function Bg(t,e){return function(t,e=lt.z){return new ht.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Hg(t,e){return Bg(t,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function zg(t,e){return Hg(t,e).pipe(yt(void 0),bt(),(0,Et.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function $g(t,e,n){return zg(t,n).pipe(St((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Zg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Zg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zg(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),It(),(0,Et.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function Zg(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Kg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Qg{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=zg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Et.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(yt(void 0),bt(),kt(([t,e])=>e.length>0||!t),(0,Et.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(St((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Kg(t);return $g(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Hg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ft.D)(this.query.get(t)).pipe((0,Nt.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Wg(this.ref.doc(t),this.afs)}}class Wg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=nm(n,e);return new Qg(r,i,this.afs)}snapshotChanges(){return Bg(this.ref,this.afs.schedulers.outsideAngular).pipe(yt(void 0),bt(),(0,Et.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ft.D)(this.ref.get(t)).pipe((0,Nt.QV)(this.afs.schedulers.insideAngular))}}class Jg{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),kt(t=>t.length>0),this.afs.keepUnstableUntilFirst):zg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(St((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Kg(t);return $g(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Hg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ft.D)(this.query.get(t)).pipe((0,Nt.QV)(this.afs.schedulers.insideAngular))}}const Yg=new r.OlP("angularfire2.enableFirestorePersistence"),Xg=new r.OlP("angularfire2.firestore.persistenceSettings"),tm=new r.OlP("angularfire2.firestore.settings"),em=new r.OlP("angularfire2.firestore.use-emulator");function nm(t,e=(t=>t)){return{query:e(t),ref:t}}let rm=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Rt.HU(o),this.keepUnstableUntilFirst=(0,Rt.ss)(this.schedulers);const c=(0,Rt.on)(t,o,e);!Pt.Z.auth&&u&&(0,Rt.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,Rt.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!D(i)){const e=()=>{try{return(0,ft.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(eg){return"undefined"!=typeof console&&console.warn(eg),(0,dt.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,dt.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=nm(n,e),o=this.schedulers.ngZone.run(()=>r);return new Qg(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Jg(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Wg(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Rt.Dh),r.LFG(Rt.xv,8),r.LFG(Yg,8),r.LFG(tm,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Xg,8),r.LFG(em,8),r.LFG(Fg,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Rt.Dh),r.LFG(Rt.xv,8),r.LFG(Yg,8),r.LFG(tm,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Xg,8),r.LFG(em,8),r.LFG(Fg,8))},token:t,providedIn:"any"}),t})(),im=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Yg,useValue:!0},{provide:Xg,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[rm]}),t})(),om=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-cabecera"]],decls:5,vars:0,consts:[[1,"container"],[1,"row","justify-content-center","align-content-center","bg-primary","py-3"],[1,"col-md-8","col-sm-5","text-center"],[1,"text-center","text-light","display-5","fw-bold"]],template:function(t,e){1&t&&(r.TgZ(0,"header",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h1",3),r._uU(4,"P\xc1GINA HECHA CON ANGULAR"),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[""]}),t})();var sm=n(9796),am=n(9105);function um(t,e,n,r){return(0,am.m)(n)&&(r=n,n=void 0),r?um(t,e,n).pipe((0,Et.U)(t=>(0,sm.k)(t)?r(...t):r(t))):new ht.y(r=>{cm(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function cm(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)cm(t[o],e,n,r,i)}r.add(o)}var lm=n(6561);function hm(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var fm=n(6693);class dm extends vt.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class pm extends vt.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var gm=n(7444);function mm(t,e,n,r,i=new pm(t,n,r)){if(!i.closed)return e instanceof ht.y?e.subscribe(i):(0,gm.s)(e)(i)}class ym{call(t,e){return e.subscribe(new vm(t))}}class vm extends dm{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=mm(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}class bm extends sg.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pg.N;return this._value}next(t){super.next(this._value=t)}}const wm={};class _m{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Em(t,this.resultSelector))}}class Em extends dm{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(wm),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(mm(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===wm?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Sm=n(8640);new ht.y(Sm.Z);var Tm=n(377);function Cm(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),(0,fm.n)(t,void 0).lift(new Im(e))}class Im{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Am(t,this.resultSelector))}}class Am extends vt.L{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,sm.k)(t)?e.push(new km(t)):e.push("function"==typeof t[Tm.hZ]?new xm(t[Tm.hZ]()):new Om(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class xm{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class km{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Tm.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Om extends ug.Ds{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Tm.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,ug.ft)(this.observable,new ug.IY(this))}}function Dm(t){return e=>e.lift(new Nm(t))}class Nm{constructor(t){this.notifier=t}call(t,e){const n=new Rm(t),r=(0,ug.ft)(this.notifier,new ug.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Rm extends ug.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Pm=n(8307);function Lm(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Fm(t,n))}}class Fm{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Vm(t,this.observables,this.project))}}class Vm extends dm{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(mm(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n(1593);var Mm=n(9773);n(8819);var jm=n(1555);function Um(t,e){return new ht.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,ft.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let qm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),Gm=(()=>{class t extends qm{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const Bm=new r.OlP("NgValueAccessor"),Hm={provide:Bm,useExisting:(0,r.Gpc)(()=>$m),multi:!0},zm=new r.OlP("CompositionEventMode");let $m=(()=>{class t extends qm{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(zm,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([Hm]),r.qOj]}),t})();const Zm=new r.OlP("NgValidators"),Km=new r.OlP("NgAsyncValidators");function Qm(t){return null!=t}function Wm(t){const e=(0,r.QGY)(t)?(0,ft.D)(t):t;return(0,r.CqO)(e),e}function Jm(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ym(t,e){return e.map(e=>e(t))}function Xm(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function ty(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Qm);return 0==e.length?null:function(t){return Jm(Ym(t,e))}}(Xm(t)):null}function ey(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Qm);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,sm.k)(e))return Um(e,null);if((0,jm.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Um(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Um(t=1===t.length&&(0,sm.k)(t[0])?t[0]:t,null).pipe((0,Et.U)(t=>e(...t)))}return Um(t,null)}(Ym(t,e).map(Wm)).pipe((0,Et.U)(Jm))}}(Xm(t)):null}function ny(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let ry=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ty(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ey(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),iy=(()=>{class t extends ry{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class oy extends ry{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sy{constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}let ay=(()=>{class t extends sy{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(oy,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),uy=(()=>{class t extends sy{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(iy,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[r.qOj]}),t})();function cy(t,e){hy(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&fy(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&fy(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ly(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hy(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(ny(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(ny(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();ly(e._rawValidators,i),ly(e._rawAsyncValidators,i)}function fy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const py="VALID",gy="INVALID",my="PENDING",yy="DISABLED";function vy(t){return(Ey(t)?t.validators:t)||null}function by(t){return Array.isArray(t)?ty(t):t||null}function wy(t,e){return(Ey(e)?e.asyncValidators:t)||null}function _y(t){return Array.isArray(t)?ey(t):t||null}function Ey(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Sy{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=by(this._rawValidators),this._composedAsyncValidatorFn=_y(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===py}get invalid(){return this.status===gy}get pending(){return this.status==my}get disabled(){return this.status===yy}get enabled(){return this.status!==yy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=by(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=_y(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=my,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yy,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=py,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==py&&this.status!==my||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yy:py}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=my,this._hasOwnPendingAsyncValidator=!0;const e=Wm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Cy?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Iy&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?yy:this.errors?gy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(my)?my:this._anyControlsHaveStatus(gy)?gy:py}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ey(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ty extends Sy{constructor(t=null,e,n){super(vy(e),wy(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){dy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){dy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Cy extends Sy{constructor(t,e,n){super(vy(e),wy(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ty?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Iy extends Sy{constructor(t,e,n){super(vy(e),wy(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ty?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ay={provide:iy,useExisting:(0,r.Gpc)(()=>ky)},xy=(()=>Promise.resolve(null))();let ky=(()=>{class t extends iy{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new Cy({},ty(t),ey(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xy.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),cy(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xy.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),dy(this._directives,t)})}addFormGroup(t){xy.then(()=>{const e=this._findContainer(t.path),n=new Cy({});(function(t,e){hy(t,e)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xy.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){xy.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zm,10),r.Y36(Km,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Ay]),r.qOj]}),t})();const Oy={provide:oy,useExisting:(0,r.Gpc)(()=>Ny)},Dy=(()=>Promise.resolve(null))();let Ny=(()=>{class t extends oy{constructor(t,e,n,i){super(),this.control=new Ty,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===$m?n=t:Object.getPrototypeOf(t.constructor)===Gm?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Dy.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Dy.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(iy,9),r.Y36(Zm,10),r.Y36(Km,10),r.Y36(Bm,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([Oy]),r.qOj,r.TTD]}),t})(),Ry=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Py=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),Ly=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Py]]}),t})(),Fy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Ly]}),t})();const Vy=["*"],My=["dialog"];function jy(t){return null!=t}function Uy(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const qy={animation:!0,transitionTimerDelayMs:5};let Gy=(()=>{class t{constructor(){this.animation=qy.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const By=()=>{},{transitionTimerDelayMs:Hy}=qy,zy=new Map,$y=(t,e,n,r)=>{let i=r.context||{};const o=zy.get(e);if(o)switch(r.runningTransition){case"continue":return _g.E;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),zy.delete(e)}const s=n(e,r.animation,i)||By;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),(0,dt.of)(void 0).pipe(function(t){return e=>new ht.y(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new sg.xQ,u=new sg.xQ,c=a.pipe(function(...t){return e=>gt(e,(0,dt.of)(...t))}(!0));zy.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=um(e,"transitionend").pipe(Dm(c),kt(({target:t})=>t===e));(function(...t){if(1===t.length){if(!(0,sm.k)(t[0]))return t[0];t=t[0]}return(0,fm.n)(t,void 0).lift(new ym)})(function(t=0,e,n){let r=-1;return(0,lm.k)(e)?r=Number(e)<1?1:Number(e):(0,mt.K)(e)&&(n=e),(0,mt.K)(n)||(n=lt.P),new ht.y(e=>{const i=(0,lm.k)(t)?t:+t-n.now();return n.schedule(hm,i,{index:0,period:r,subscriber:e})})}(l+Hy).pipe(Dm(c)),n,u).pipe(Dm(c)).subscribe(()=>{zy.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let Zy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),Ky=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),Qy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),Wy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),Jy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();var Yy=(()=>(function(t){t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}(Yy||(Yy={})),Yy))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Xy=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function tv(t){const e=Array.from(t.querySelectorAll(Xy)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+u+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let ev=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k,Fy]]}),t})(),nv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),rv=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Gy))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Gy))},token:t,providedIn:"root"}),t})();class iv{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const ov=()=>{};let sv=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):ov}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s))},token:t,providedIn:"root"}),t})(),av=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Eg(1)).subscribe(()=>{$y(this._zone,this._el.nativeElement,(t,e)=>{e&&Uy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $y(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Tol("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.ekj("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class uv{close(t){}dismiss(t){}}class cv{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new sg.xQ,this._dismissed=new sg.xQ,this._hidden=new sg.xQ,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Dm(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Dm(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,dt.of)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Cm(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var lv=(()=>(function(t){t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC"}(lv||(lv={})),lv))();let hv=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new sg.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new sg.xQ,this.hidden=new sg.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Eg(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Cm($y(this._zone,t,()=>t.classList.remove("show"),e),$y(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};Cm($y(this._zone,this._elRef.nativeElement,(t,e)=>{e&&Uy(t),t.classList.add("show")},t),$y(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{um(t,"keydown").pipe(Dm(this._closed$),kt(t=>t.which===Yy.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(lv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;um(this._dialogEl.nativeElement,"mousedown").pipe(Dm(this._closed$),(0,Pm.b)(()=>e=!1),cg(()=>um(t,"mouseup").pipe(Dm(this._closed$),Eg(1))),kt(({target:e})=>t===e)).subscribe(()=>{e=!0}),um(t,"click").pipe(Dm(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(lv.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=tv(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$y(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Gf(My,7),2&t){let t;r.iGM(t=r.CRH())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Tol("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.ekj("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Vy,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&t&&r.Tol("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),fv=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new sg.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=um(e,"focusin").pipe(Dm(n),(0,Et.U)(t=>t.target));um(e,"keydown").pipe(Dm(n),kt(t=>t.which===Yy.Tab),Lm(t)).subscribe(([t,n])=>{const[r,i]=tv(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&um(e,"click").pipe(Dm(n),Lm(t),(0,Et.U)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:jy(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new uv,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new cv(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(av).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(hv).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{jy(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{jy(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.Rgc?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new iv([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new iv([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new iv([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.zs3.create({providers:[{provide:uv,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new iv([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(s),r.LFG(sv),r.LFG(r.FYo),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.z2F),r.LFG(r.gxx),r.LFG(s),r.LFG(sv),r.LFG(r.FYo),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})(),dv=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(fv),r.LFG(rv))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r._Vd),r.LFG(r.gxx),r.LFG(fv),r.LFG(rv))},token:t,providedIn:"root"}),t})(),pv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[dv]}),t})(),gv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),mv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),yv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),vv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),bv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),wv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),_v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})(),Ev=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Sv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[k]]}),t})();const Tv=[Zy,Ky,Qy,Wy,Jy,ev,nv,pv,gv,mv,yv,vv,bv,wv,_v,Ev,Sv];let Cv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Tv,Zy,Ky,Qy,Wy,Jy,ev,nv,pv,gv,mv,yv,vv,bv,wv,_v,Ev,Sv]}),t})(),Iv=(()=>{class t{constructor(t){this.afs=t,this.itemsCollection=t.collection("items"),this.items=this.itemsCollection.snapshotChanges().pipe((0,Et.U)(t=>t.map(t=>{const e=t.payload.doc.data();return Object.assign({id:t.payload.doc.id},e)})))}listaItem(){return this.items}agregarItem(t){this.itemsCollection.add(t)}eliminarItem(t){this.itemDoc=this.afs.doc(`items/${t.id}`),this.itemDoc.delete()}editarItem(t){this.itemDoc=this.afs.doc(`items/${t.id}`),this.itemDoc.update(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rm))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Av(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",2),r._uU(1),r.TgZ(2,"div",3),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().eliminar(e)}),r.O4$(),r.TgZ(3,"svg",4),r._UZ(4,"path",5),r._UZ(5,"path",6),r.qZA(),r.qZA(),r.kcU(),r.TgZ(6,"div",7),r.NdJ("click",function(){const e=r.CHM(t).$implicit,n=r.oxw(),i=r.MAs(2);return n.editar(e),n.open(i)}),r.O4$(),r.TgZ(7,"svg",8),r._UZ(8,"path",9),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.AsE(" ",t.name," - ",t.id," ")}}function xv(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",10),r.TgZ(1,"h4",11),r._uU(2),r.qZA(),r.TgZ(3,"button",12),r.NdJ("click",function(){return r.CHM(t).$implicit.dismiss("Cross click")}),r.TgZ(4,"span",13),r._uU(5,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",14),r.TgZ(7,"form",15),r.NdJ("ngSubmit",function(){return r.CHM(t),r.oxw().agregarItemEditado()}),r.TgZ(8,"input",16),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().editarItem.name=e}),r.qZA(),r.TgZ(9,"button",17),r._uU(10,"Editar"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div",18),r.TgZ(12,"button",19),r.NdJ("click",function(){return r.CHM(t).$implicit.close("Save click")}),r._uU(13,"Ok"),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.hij("Editar ",t.editarItem.name," "),r.xp6(6),r.Q6J("ngModel",t.editarItem.name)}}let kv=(()=>{class t{constructor(t,e){this.conexion=t,this.modalService=e,this.editarItem={name:""},this.conexion.listaItem().subscribe(t=>{this.items=t,console.log(this.items)})}ngOnInit(){}eliminar(t){this.conexion.eliminarItem(t)}editar(t){this.editarItem=t}agregarItemEditado(){this.conexion.editarItem(this.editarItem)}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}getDismissReason(t){return t===lv.ESC?"by pressing ESC":t===lv.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Iv),r.Y36(dv))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-lista"]],decls:3,vars:1,consts:[["class","alert alert-warning","role","alert",4,"ngFor","ngForOf"],["mymodal",""],["role","alert",1,"alert","alert-warning"],[1,"float-end",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"],[1,"float-end","mx-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil"],["d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["type","text","placeholder","Ingresa tarea","name","name",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-warning","mt-3"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,e){1&t&&(r.YNc(0,Av,9,2,"div",0),r.YNc(1,xv,14,2,"ng-template",null,1,r.W1O)),2&t&&r.Q6J("ngForOf",e.items)},directives:[A,Ry,uy,ky,$m,ay,Ny],styles:[""]}),t})(),Ov=(()=>{class t{constructor(t){this.servicio=t,this.item={name:""}}ngOnInit(){}agregar(){this.servicio.agregarItem(this.item),this.item.name=""}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Iv))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-lista-add"]],decls:4,vars:1,consts:[[3,"ngSubmit"],["type","text","placeholder","Ingresa una tarea","name","name",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-warning","mt-3"]],template:function(t,e){1&t&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return e.agregar()}),r.TgZ(1,"input",1),r.NdJ("ngModelChange",function(t){return e.item.name=t}),r.qZA(),r.TgZ(2,"button",2),r._uU(3,"Agregar"),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngModel",e.item.name))},directives:[Ry,uy,ky,$m,ay,Ny],styles:[""]}),t})(),Dv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-pie"]],decls:5,vars:0,consts:[[1,"container","bg-dark","py-3"],[1,"row","justify-content-center","align-content-center"],[1,"col-md-6","col-sm-3"],[1,"text-center","text-light","fw-bold"]],template:function(t,e){1&t&&(r.TgZ(0,"footer",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h5",3),r._uU(4,"\xa9 2021 | Esteban Arroyo"),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[""]}),t})(),Nv=(()=>{class t{constructor(t){this.title="cursofirebase",this.items=t.collection("items").valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(rm))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:10,vars:0,consts:[[1,"container"],[1,"row"],[1,"text-center","py-3"],[1,"col-md-6"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"app-cabecera"),r.TgZ(2,"div",1),r.TgZ(3,"h3",2),r._uU(4,"LISTA DE TAREAS"),r.qZA(),r.TgZ(5,"div",3),r._UZ(6,"app-lista"),r.qZA(),r.TgZ(7,"div",3),r._UZ(8,"app-lista-add"),r.qZA(),r.qZA(),r._UZ(9,"app-pie"),r.qZA())},directives:[om,kv,Ov,Dv],styles:[""]}),t})();const Rv={apiKey:"AIzaSyBKVJrxuE31aYgEgP62cZmv6IRycDFUcrA",authDomain:"baseangular-4e0ef.firebaseapp.com",projectId:"baseangular-4e0ef",storageBucket:"baseangular-4e0ef.appspot.com",messagingSenderId:"299026061365",appId:"1:299026061365:web:2e477a83854adf9036f97c"};class Pv{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new Lv(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Lv extends vt.L{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new sg.xQ,n.set(e,i);const t=new Vv(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new Vv(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new Fv(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Fv extends vt.L{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class Vv extends ht.y{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new dg.w,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new Mv(n)),e.add(r.subscribe(t)),e}}class Mv extends dg.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}function jv(t){return new ht.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,ft.D)(n):(0,_g.c)()).subscribe(e)})}var Uv=n(2441);function qv(t){return function(e){const n=new Gv(t),r=e.lift(n);return n.caught=r}}class Gv{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Bv(t,this.selector,this.caught))}}class Bv extends ug.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ug.IY(this);this.add(r);const i=(0,ug.ft)(n,r);i!==r&&this.add(i)}}}function Hv(t,e){return(0,Mm.zg)(t,e,1)}function zv(t){return function(e){return 0===t?(0,_g.c)():e.lift(new $v(t))}}class $v{constructor(t){if(this.total=t,this.total<0)throw new wg}call(t,e){return e.subscribe(new Zv(t,this.total))}}class Zv extends vt.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var Kv=n(1307);class Qv{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Wv(t,this.callback))}}class Wv extends vt.L{constructor(t,e){super(t),this.add(new dg.w(e))}}class Jv{constructor(t,e){this.id=t,this.url=e}}class Yv extends Jv{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xv extends Jv{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tb extends Jv{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eb extends Jv{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nb extends Jv{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rb extends Jv{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ib extends Jv{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ob extends Jv{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sb extends Jv{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ab{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ub{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cb{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lb{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hb{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fb{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}const db="primary";class pb{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gb(t){return new pb(t)}function mb(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function yb(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vb(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bb(t[i],e[i]))return!1;return!0}function bb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function wb(t){return t.length>0?t[t.length-1]:null}function _b(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Eb(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,ft.D)(Promise.resolve(t)):(0,dt.of)(t)}const Sb={exact:function t(e,n,r){if(!Nb(e.segments,n.segments))return!1;if(!xb(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Ib},Tb={exact:function(t,e){return vb(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bb(t[n],e[n]))},ignored:()=>!0};function Cb(t,e,n){return Sb[n.paths](t.root,e.root,n.matrixParams)&&Tb[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Ib(t,e,n){return Ab(t,e,e.segments,n)}function Ab(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Nb(i,n)&&!e.hasChildren()&&!!xb(i,n,r)}if(t.segments.length===n.length){if(!Nb(t.segments,n))return!1;if(!xb(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ib(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Nb(t.segments,i)&&!!xb(t.segments,i,r)&&!!t.children.primary&&Ab(t.children.primary,e,o,r)}}function xb(t,e,n){return e.every((e,r)=>Tb[n](t[r].parameters,e.parameters))}class kb{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gb(this.queryParams)),this._queryParamMap}toString(){return Lb.serialize(this)}}class Ob{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_b(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fb(this)}}class Db{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gb(this.parameters)),this._parameterMap}toString(){return Bb(this)}}function Nb(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Rb{}class Pb{parse(t){const e=new Kb(t);return new kb(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Vb(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${jb(e)}=${jb(t)}`).join("&"):`${jb(e)}=${jb(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Lb=new Pb;function Fb(t){return t.segments.map(t=>Bb(t)).join("/")}function Vb(t,e){if(!t.hasChildren())return Fb(t);if(e){const e=t.children.primary?Vb(t.children.primary,!1):"",n=[];return _b(t.children,(t,e)=>{e!==db&&n.push(`${e}:${Vb(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return _b(t.children,(t,r)=>{r===db&&(n=n.concat(e(t,r)))}),_b(t.children,(t,r)=>{r!==db&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===db?[Vb(t.children.primary,!1)]:[`${n}:${Vb(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Fb(t)}/${e[0]}`:`${Fb(t)}/(${e.join("//")})`}}function Mb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jb(t){return Mb(t).replace(/%3B/gi,";")}function Ub(t){return Mb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qb(t){return decodeURIComponent(t)}function Gb(t){return qb(t.replace(/\+/g,"%20"))}function Bb(t){return`${Ub(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Ub(t)}=${Ub(e[t])}`).join("")}`;var e}const Hb=/^[^\/()?;=#]+/;function zb(t){const e=t.match(Hb);return e?e[0]:""}const $b=/^[^=?&#]+/,Zb=/^[^?&#]+/;class Kb{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ob([],{}):new Ob([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ob(t,e)),n}parseSegment(){const t=zb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Db(qb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zb(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=zb(this.remaining);t&&(n=t,this.capture(n))}t[qb(e)]=qb(n)}parseQueryParam(t){const e=function(t){const e=t.match($b);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Zb);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Gb(e),i=Gb(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=zb(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=db);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ob([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Qb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Wb(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Wb(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Jb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Jb(t,this._root).map(t=>t.value)}}function Wb(t,e){if(t===e.value)return e;for(const n of e.children){const e=Wb(t,n);if(e)return e}return null}function Jb(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Jb(t,n);if(r.length)return r.unshift(e),r}return[]}class Yb{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xb(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class tw extends Qb{constructor(t,e){super(t),this.snapshot=e,sw(this,t)}toString(){return this.snapshot.toString()}}function ew(t,e){const n=function(t,e){const n=new iw([],{},{},"",{},db,e,null,t.root,-1,{});return new ow("",new Yb(n,[]))}(t,e),r=new bm([new Db("",{})]),i=new bm({}),o=new bm({}),s=new bm({}),a=new bm(""),u=new nw(r,i,s,a,o,db,e,n.root);return u.snapshot=n.root,new tw(new Yb(u,[]),n)}class nw{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(t=>gb(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(t=>gb(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rw(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class iw{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gb(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gb(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ow extends Qb{constructor(t,e){super(e),this.url=t,sw(this,e)}toString(){return aw(this._root)}}function sw(t,e){e.value._routerState=t,e.children.forEach(e=>sw(t,e))}function aw(t){const e=t.children.length>0?` { ${t.children.map(aw).join(", ")} } `:"";return`${t.value}${e}`}function uw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vb(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),vb(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vb(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),vb(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function cw(t,e){return vb(t.params,e.params)&&function(t,e){return Nb(t,e)&&t.every((t,n)=>vb(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||cw(t.parent,e.parent))}function lw(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return lw(t,e,r);return lw(t,e)})}(t,e,n);return new Yb(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return hw(e,t),t}}const n=new nw(new bm((r=e.value).url),new bm(r.params),new bm(r.queryParams),new bm(r.fragment),new bm(r.data),r.outlet,r.component,r),i=e.children.map(e=>lw(t,e));return new Yb(n,i)}var r}function hw(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)hw(t.children[n],e.children[n])}function fw(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function dw(t){return"object"==typeof t&&null!=t&&t.outlets}function pw(t,e,n,r,i){let o={};return r&&_b(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new kb(n.root===t?e:gw(n.root,t,e),o,i)}function gw(t,e,n){const r={};return _b(t.children,(t,i)=>{r[i]=t===e?n:gw(t,e,n)}),new Ob(t.segments,r)}class mw{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fw(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(dw);if(r&&r!==wb(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yw{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function vw(t,e,n){if(t||(t=new Ob([],{})),0===t.segments.length&&t.hasChildren())return bw(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(dw(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Sw(a,u,e))return o;r+=2}else{if(!Sw(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ob(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ob(t.segments.slice(r.pathIndex),t.children),bw(e,0,i)}return r.match&&0===i.length?new Ob(t.segments,{}):r.match&&!t.hasChildren()?ww(t,e,n):r.match?bw(t,0,i):ww(t,e,n)}function bw(t,e,n){if(0===n.length)return new Ob(t.segments,{});{const r=function(t){return dw(t[0])?t[0].outlets:{[db]:t}}(n),i={};return _b(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=vw(t.children[r],e,n))}),_b(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ob(t.segments,i)}}function ww(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(dw(o)){const t=_w(o.outlets);return new Ob(r,t)}if(0===i&&fw(n[0])){r.push(new Db(t.segments[e].path,Ew(n[0]))),i++;continue}const s=dw(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fw(a)?(r.push(new Db(s,Ew(a))),i+=2):(r.push(new Db(s,{})),i++)}return new Ob(r,{})}function _w(t){const e={};return _b(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ww(new Ob([],{}),0,t))}),e}function Ew(t){const e={};return _b(t,(t,n)=>e[n]=`${t}`),e}function Sw(t,e,n){return t==n.path&&vb(e,n.parameters)}class Tw{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),uw(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Xb(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),_b(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Xb(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Xb(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new fb(t.value.snapshot))}),t.children.length&&this.forwardEvent(new lb(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(uw(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Cw(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Cw(t){uw(t.value),t.children.forEach(Cw)}class Iw{constructor(t,e){this.routes=t,this.module=e}}function Aw(t){return"function"==typeof t}function xw(t){return t instanceof kb}const kw=Symbol("INITIAL_VALUE");function Ow(){return cg(t=>function(...t){let e,n;return(0,mt.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,sm.k)(t[0])&&(t=t[0]),(0,fm.n)(t,n).lift(new _m(e))}(t.map(t=>t.pipe(Eg(1),yt(kw)))).pipe(St((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==kw)return t;if(r===kw&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||xw(r))return r}return t},t)},kw),kt(t=>t!==kw),(0,Et.U)(t=>xw(t)?t:!0===t),Eg(1)))}let Dw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[C_]},encapsulation:2}),t})();function Nw(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Rw(r,Pw(e,r))}}function Rw(t,e){t.children&&Nw(t.children,e)}function Pw(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Lw(t){const e=t.children&&t.children.map(Lw),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==db&&(n.component=Dw),n}function Fw(t){return t.outlet||db}function Vw(t,e){const n=t.filter(t=>Fw(t)===e);return n.push(...t.filter(t=>Fw(t)!==e)),n}const Mw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function jw(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Mw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yb)(n,t,e);if(!i)return Object.assign({},Mw);const o={};_b(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Uw(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>qw(t,e,n)&&Fw(n)!==db)}(t,n,r)){const i=new Ob(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Fw(o)!==db){const n=new Ob([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Fw(o)]=n}return i}(t,e,r,new Ob(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qw(t,e,n))}(t,n,r)){const o=new Ob(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(qw(t,n,a)&&!i[Fw(a)]){const n=new Ob([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Fw(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ob(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function qw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Gw(t,e,n,r){return!!(Fw(t)===r||r!==db&&qw(e,n,t))&&("**"===t.path||jw(e,t,n).matched)}function Bw(t,e,n){return 0===e.length&&!t.children[n]}class Hw{constructor(t){this.segmentGroup=t||null}}class zw{constructor(t){this.urlTree=t}}function $w(t){return new ht.y(e=>e.error(new Hw(t)))}function Zw(t){return new ht.y(e=>e.error(new zw(t)))}function Kw(t){return new ht.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Qw{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=Uw(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ob(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,db).pipe((0,Et.U)(t=>this.createUrlTree(Ww(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qv(t=>{if(t instanceof zw)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Hw)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,db).pipe((0,Et.U)(e=>this.createUrlTree(Ww(e),t.queryParams,t.fragment))).pipe(qv(t=>{if(t instanceof Hw)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ob([],{[db]:t}):t;return new kb(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Et.U)(t=>new Ob([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,ft.D)(r).pipe(Hv(r=>{const i=n.children[r],o=Vw(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,Et.U)(t=>({segment:t,outlet:r})))}),St((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kt((e,n)=>t(e,n,r)):Ng.y,zv(1),n?Cg(e):xg(()=>new bg))}())}expandSegment(t,e,n,r,i,o){return(0,ft.D)(n).pipe(Hv(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(qv(t=>{if(t instanceof Hw)return(0,dt.of)(null);throw t}))),Rg(t=>!!t),qv((t,n)=>{if(t instanceof bg||"EmptyError"===t.name){if(Bw(e,r,i))return(0,dt.of)(new Ob([],{}));throw new Hw(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Gw(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):$w(e):$w(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zw(i):this.lineralizeSegments(n,i).pipe((0,Mm.zg)(n=>{const i=new Ob(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=jw(e,r,i);if(!s)return $w(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Zw(l):this.lineralizeSegments(r,l).pipe((0,Mm.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,dt.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Et.U)(t=>(n._loadedConfig=t,new Ob(r,{})))):(0,dt.of)(new Ob(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=jw(e,n,r);if(!o)return $w(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,Mm.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Uw(e,s,u,o),l=new Ob(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,Et.U)(t=>new Ob(s,t)));if(0===o.length&&0===c.length)return(0,dt.of)(new Ob(s,{}));const h=Fw(n)===i;return this.expandSegment(r,l,o,c,h?db:i,!0).pipe((0,Et.U)(t=>new Ob(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,dt.of)(new Iw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,dt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,Mm.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Et.U)(t=>(e._loadedConfig=t,t))):function(t){return new ht.y(e=>e.error(mb(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,dt.of)(new Iw([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,dt.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Aw(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Aw(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Eb(o)});return(0,dt.of)(i).pipe(Ow(),(0,Pm.b)(t=>{if(!xw(t))return;const e=mb(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Et.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,dt.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Kw(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new kb(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return _b(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return _b(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ob(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ww(t){const e={};for(const n of Object.keys(t.children)){const r=Ww(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ob(t.segments.concat(e.segments),e.children)}return t}(new Ob(t.segments,e))}class Jw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yw{constructor(t,e){this.component=t,this.route=e}}function Xw(t,e,n){const r=t._root;return e_(r,e?e._root:null,n,[r.value])}function t_(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function e_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xb(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nb(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nb(t.url,e.url)||!vb(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cw(t,e)||!vb(t.queryParams,e.queryParams);case"paramsChange":default:return!cw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Jw(r)):(o.data=s.data,o._resolvedData=s._resolvedData),e_(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yw(a.outlet.component,s))}else s&&n_(e,a,i),i.canActivateChecks.push(new Jw(r)),e_(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),_b(o,(t,e)=>n_(t,n.getContext(e),i)),i}function n_(t,e,n){const r=Xb(t),i=t.value;_b(r,(t,r)=>{n_(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Yw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class r_{}function i_(t){return new ht.y(e=>e.error(t))}class o_{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Uw(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,db);if(null===e)return null;const n=new iw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},db,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yb(n,e),i=new ow(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=rw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Vw(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=a_(n);return r.sort((t,e)=>t.value.outlet===db?-1:e.value.outlet===db?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Bw(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Gw(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?wb(n).parameters:{};i=new iw(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,l_(t),Fw(t),t.component,t,u_(e),c_(e)+n.length,h_(t))}else{const r=jw(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new iw(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,l_(t),Fw(t),t.component,t,u_(e),c_(e)+o.length,h_(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Uw(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Yb(i,t)]}if(0===a.length&&0===c.length)return[new Yb(i,[])];const l=Fw(t)===r,h=this.processSegment(a,u,c,l?db:r);return null===h?null:[new Yb(i,h)]}}function s_(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function a_(t){const e=[],n=new Set;for(const r of t){if(!s_(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=a_(r.children);e.push(new Yb(r.value,t))}return e.filter(t=>!n.has(t))}function u_(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function c_(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function l_(t){return t.data||{}}function h_(t){return t.resolve||{}}function f_(t){return cg(e=>{const n=t(e);return n?(0,ft.D)(n).pipe((0,Et.U)(()=>e)):(0,dt.of)(e)})}class d_ extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const p_=new r.OlP("ROUTES");class g_{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Et.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Iw((o=i.injector.get(p_,void 0,r.XFs.Self|r.XFs.Optional),Array.prototype.concat.apply([],o)).map(Lw),i);var o}),qv(t=>{throw e._loader$=void 0,t}));return e._loader$=new Uv.c(n,()=>new sg.xQ).pipe((0,Kv.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,ft.D)(this.loader.load(t)):Eb(t()).pipe((0,Mm.zg)(t=>t instanceof r.YKP?(0,dt.of)(t):(0,ft.D)(this.compiler.compileModuleAsync(t))))}}class m_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new y_,this.attachRef=null}}class y_{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new m_,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class v_{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function b_(t){throw t}function w_(t,e,n){return e.parse("/")}function __(t,e){return(0,dt.of)(null)}const E_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let T_=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new sg.xQ,this.errorHandler=b_,this.malformedUriErrorHandler=w_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:__,afterPreactivation:__},this.urlHandlingStrategy=new v_,this.routeReuseStrategy=new d_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const c=o.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new kb(new Ob([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new g_(s,a,t=>this.triggerEvent(new ab(t)),t=>this.triggerEvent(new ub(t))),this.routerState=ew(this.currentUrlTree,this.rootComponentType),this.transitions=new bm({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(kt(t=>0!==t.id),(0,Et.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),cg(t=>{let n=!1,r=!1;return(0,dt.of)(t).pipe((0,Pm.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),cg(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,dt.of)(t).pipe(cg(t=>{const n=this.transitions.getValue();return e.next(new Yv(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?_g.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,cg(t=>function(t,e,n,r,i){return new Qw(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,Et.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,Pm.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,Mm.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new o_(t,e,n,r,i,o).recognize();return null===s?i_(new r_):(0,dt.of)(s)}catch(eg){return i_(eg)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,Et.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pm.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new nb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Yv(n,this.serializeUrl(r),i,o);e.next(a);const u=ew(r,this.rootComponentType).snapshot;return(0,dt.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),_g.E}),f_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Pm.b)(t=>{const e=new rb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Et.U)(t=>Object.assign(Object.assign({},t),{guards:Xw(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,Mm.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,dt.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,ft.D)(t).pipe((0,Mm.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,dt.of)(!0);const s=o.map(o=>{const s=t_(o,e,i);let a;if(function(t){return t&&Aw(t.canDeactivate)}(s))a=Eb(s.canDeactivate(t,e,n,r));else{if(!Aw(s))throw new Error("Invalid CanDeactivate guard");a=Eb(s(t,e,n,r))}return a.pipe(Rg())});return(0,dt.of)(s).pipe(Ow())}(t.component,t.route,n,e,r)),Rg(t=>!0!==t,!0))}(s,r,i,t).pipe((0,Mm.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,ft.D)(e).pipe(Hv(e=>gt(function(t,e){return null!==t&&e&&e(new cb(t)),(0,dt.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new hb(t)),(0,dt.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>jv(()=>{const i=e.guards.map(i=>{const o=t_(i,e.node,n);let s;if(function(t){return t&&Aw(t.canActivateChild)}(o))s=Eb(o.canActivateChild(r,t));else{if(!Aw(o))throw new Error("Invalid CanActivateChild guard");s=Eb(o(r,t))}return s.pipe(Rg())});return(0,dt.of)(i).pipe(Ow())}));return(0,dt.of)(i).pipe(Ow())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,dt.of)(!0);const i=r.map(r=>jv(()=>{const i=t_(r,e,n);let o;if(function(t){return t&&Aw(t.canActivate)}(i))o=Eb(i.canActivate(e,t));else{if(!Aw(i))throw new Error("Invalid CanActivate guard");o=Eb(i(e,t))}return o.pipe(Rg())}));return(0,dt.of)(i).pipe(Ow())}(t,e.route,n))),Rg(t=>!0!==t,!0))}(r,o,t,e):(0,dt.of)(n)),(0,Et.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,Pm.b)(t=>{if(xw(t.guardsResult)){const e=mb(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new ib(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),kt(t=>!!t.guardsResult||(this.cancelNavigationTransitionRestoreHistory(t,""),!1)),f_(t=>{if(t.guards.canActivateChecks.length)return(0,dt.of)(t).pipe((0,Pm.b)(t=>{const e=new ob(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),cg(t=>{let e=!1;return(0,dt.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,Mm.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,dt.of)(t);let o=0;return(0,ft.D)(i).pipe(Hv(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,dt.of)({});const o={};return(0,ft.D)(i).pipe((0,Mm.zg)(i=>function(t,e,n,r){const i=t_(t,e,r);return Eb(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,Pm.b)(t=>{o[i]=t}))),zv(1),(0,Mm.zg)(()=>Object.keys(o).length===i.length?(0,dt.of)(o):_g.E))}(t._resolve,t,e,r).pipe((0,Et.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),rw(t,n).resolve),null)))}(t.route,e,n,r)),(0,Pm.b)(()=>o++),zv(1),(0,Mm.zg)(e=>o===i.length?(0,dt.of)(t):_g.E))})),(0,Pm.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransitionRestoreHistory(t,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,Pm.b)(t=>{const e=new sb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),f_(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Et.U)(t=>{const e=function(t,e,n){const r=lw(t,e._root,n?n._root:void 0);return new tw(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,Pm.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,Et.U)(t=>(new Tw(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),(0,Pm.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?this.cancelNavigationTransitionRestoreHistory(t,e):this.cancelNavigationTransition(t,e)}this.currentNavigation=null},t=>t.lift(new Qv(i))),qv(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=xw(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new tb(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new eb(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Ts){t.reject(Ts)}}var i;return _g.E}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Nw(t),this.config=t.map(Lw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return pw(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mw(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return _b(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new mw(n,e,r)}(n);if(o.toRoot())return pw(e.root,new Ob([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new yw(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new yw(t,t===e.root,0)}const r=fw(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new yw(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?bw(s.segmentGroup,s.index,o.commands):vw(s.segmentGroup,s.index,o.commands);return pw(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=xw(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(eg){e=this.malformedUriErrorHandler(eg,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},E_):!1===e?Object.assign({},S_):e,xw(t))return Cb(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Cb(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Xv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u="imperative"!==e&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(u&&c)return Promise.resolve(!0);let l,h,f;i?(l=i.resolve,h=i.reject,f=i.promise):f=new Promise((t,e)=>{l=t,h=e});const d=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):p=0,this.setTransition({id:d,targetPageId:p,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransitionRestoreHistory(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree(),this.cancelNavigationTransition(t,e)}cancelNavigationTransition(t,e){const n=new tb(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(Rb),r.LFG(y_),r.LFG(b),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),C_=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||db,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new I_(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(y_),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class I_{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===nw?this.route:t===y_?this.childContexts:this.parent.get(t,e)}}const A_=new r.OlP("angularfire2.analytics.analyticsCollectionEnabled"),x_=new r.OlP("angularfire2.analytics.appVersion"),k_=new r.OlP("angularfire2.analytics.appName"),O_=new r.OlP("angularfire2.analytics.debugMode"),D_=new r.OlP("angularfire2.analytics.config");let N_=(()=>{class t{constructor(t,e,r,i,o,s,a,u){if(this.analyticsInitialized=new Promise(()=>{}),O(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=(0,dt.of)(void 0).pipe((0,Nt.QV)(new Rt.HU(u).outsideAngular),cg(()=>O(a)?u.runOutsideAngular(()=>n.e(636).then(n.bind(n,5636))):_g.E),(0,Et.U)(()=>(0,Rt.sI)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),vg({bufferSize:1,refCount:!1}));return(0,Rt.pX)(this,c,u)}updateConfig(t){return(0,Ft.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Rt.Ot),r.LFG(A_,8),r.LFG(x_,8),r.LFG(k_,8),r.LFG(O_,8),r.LFG(D_,8),r.LFG(r.Lbi),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Rt.Ot),r.LFG(A_,8),r.LFG(x_,8),r.LFG(k_,8),r.LFG(O_,8),r.LFG(D_,8),r.LFG(r.Lbi),r.LFG(r.R0b))},token:t,providedIn:"any"}),t})(),R_=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],D(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(N_),r.LFG(r.Lbi),r.LFG(Gg),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const P_="screen_class";let L_=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const F_={},V_=t=>{const e=[t.screen_class,t.outlet].join("#");if(F_.hasOwnProperty(e))return F_[e];{const t=L_++;return F_[e]=t,t}};let M_=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!O(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(kt(t=>t instanceof fb));var o;this.disposable=i.pipe(cg(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return(0,dt.of)(null);let a=s;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===Dw){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return(0,dt.of)(Object.assign(Object.assign({},c),{[P_]:l}));if(l){const t=r.resolveComponentFactory(l);return(0,dt.of)(Object.assign(Object.assign({},c),{[P_]:t.selector}))}return(0,dt.of)(null)}),kt(t=>t),(0,Et.U)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:V_(t)},t)),(o=t=>t.outlet,t=>t.lift(new Pv(o,void 0,void 0,void 0))),(0,Mm.zg)(e=>e.pipe(It((t,e)=>JSON.stringify(t)===JSON.stringify(e)),yt(void 0),bt(),(0,Et.U)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),cg(e=>(0,Ft.mG)(this,void 0,void 0,function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(N_),r.LFG(T_,8),r.LFG(ct,8),r.LFG(r._Vd),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(R_,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),j_=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(N_),r.LFG(M_,8),r.LFG(R_,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[N_]}),t})(),U_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[Nv]}),t.\u0275inj=r.cJS({providers:[Iv],imports:[[at,Fy,Cv,Rt.hO.initializeApp(Rv),j_,im]]}),t})();(0,r.G48)(),ot().bootstrapModule(U_).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},t=>{"use strict";t(t.s=4743)}]);